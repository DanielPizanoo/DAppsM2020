(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/dep-8"],{"+mTV":function(e,t,n){"use strict";function o(e){return r[e]}n.r(t),n.d(t,"default",(function(){return o}));var r={figures:[{type:"IMAGE",width:60,height:60,offsetX:0,top:10,align:"{{ALIGN_LEFT}}",props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"body"}},{type:"IMAGE",width:60,height:60,offsetX:0,top:10,props:{subType:"icon",graphicType:"icon",path:"m25,12.5q0,0.63,-0.46,1.1t-1.1,0.46l-21.87,0q-0.63,0,-1.1,-0.46t-0.46,-1.1t0.46,-1.1l10.94,-10.94q0.46,-0.46,1.1,-0.46t1.1,0.46l10.94,10.94q0.46,0.46,0.46,1.1Z",width:25,height:14},align:"{{ALIGN_LEFT}}"},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",props:{template:"body"}}],centeredfact:[{type:"IMAGE",width:60,height:60,offsetX:0,top:0,newline:!0,props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:0,top:2,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:10,props:{template:"body"}}],quote:[{type:"IMAGE",width:45,height:45,offsetX:0,top:0,props:{subType:"icon",graphicType:"icon",path:"M0,5.721C0,4.195,0.616,2.86,1.846,1.716C3.077,0.572,4.529,0,6.201,0C8.83,0,10.849,0.87,12.259,2.61C13.669,4.35,14.373,6.758,14.373,9.832C14.373,12.693,13.161,15.577,10.735,18.485C8.31,21.392,5.388,23.598,1.971,25.099C1.971,25.099,0.394,22.561,0.394,22.561C3.098,21.25,5.216,19.724,6.747,17.984C8.279,16.244,9.164,14.134,9.404,11.656C9.404,11.656,7.393,11.656,7.393,11.656C5.91,11.656,4.702,11.489,3.769,11.155C2.836,10.821,2.082,10.356,1.507,9.761C0.958,9.189,0.569,8.557,0.342,7.866C0.114,7.174,0,6.459,0,5.721C0,5.721,0,5.721,0,5.721M17.627,5.721C17.627,4.195,18.242,2.86,19.473,1.716C20.703,0.572,22.155,0,23.828,0C26.456,0,28.475,0.87,29.885,2.61C31.295,4.35,32,6.758,32,9.832C32,12.693,30.787,15.577,28.362,18.485C25.936,21.392,23.015,23.598,19.597,25.099C19.597,25.099,18.02,22.561,18.02,22.561C20.725,21.25,22.843,19.724,24.374,17.984C25.905,16.244,26.791,14.134,27.03,11.656C27.03,11.656,25.02,11.656,25.02,11.656C23.537,11.656,22.328,11.489,21.395,11.155C20.463,10.821,19.709,10.356,19.134,9.761C18.584,9.189,18.195,8.557,17.968,7.866C17.741,7.174,17.627,6.459,17.627,5.721C17.627,5.721,17.627,5.721,17.627,5.721",width:32,height:26},newline:!0},{type:"TEXT",offsetX:0,top:5,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:20,props:{template:"body"}}]}},"/QJz":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),p=n.n(s),f=n("vmwM"),d=n("Sye6"),y=n("XjPQ"),h=n("WdyC"),b=n("76fW"),g=n.n(b),m=n("OVpQ"),v=n("zkXd"),_=n("qZhJ");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=w(t).call(this,e),(n=!r||"object"!==O(r)&&"function"!=typeof r?S(o):r)._onResizeStart=n._onResizeStart.bind(S(n)),n._onResize=n._onResize.bind(S(n)),n._onResizeStop=n._onResizeStop.bind(S(n)),n._onDragStart=n._onDragStart.bind(S(n)),n._onDrag=n._onDrag.bind(S(n)),n._onDragStop=n._onDragStop.bind(S(n)),n.onBackgroundDragStart=Object(v.createBackgroundDragHandler)({moveClip:h.moveImageCrop,getBounds:function(){return n.state.cropDimensions},onStart:function(){return n.setState({draggingBackground:!0})},onEnd:function(){n.setState({draggingBackground:!1})}}).bind(S(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),C(t,null,[{key:"getStores",value:function(){return[f.default,d.default]}},{key:"calculateState",value:function(e,t){var n=f.default.currentImageClip,o=t.entity,r=t.scaleX,i=t.scaleY,a={left:n.get("left")*o.getWidth()*r/100,top:n.get("top")*o.getHeight()*i/100,width:(100-n.get("left")-n.get("right"))*o.getWidth()*r/100,height:(100-n.get("top")-n.get("bottom"))*o.getHeight()*i/100};return{crop:n,cropDimensions:a,entitySize:{width:o.getWidth()*r,height:o.getHeight()*i},pristine:f.default.pristine,transformOriginOffset:f.default.transformOriginOffset,backgroundDragEnabled:!o.getCalloutKey()}}}]),C(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(h.startClipResize)({startPoint:Object(y.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onResize),document.addEventListener("mouseup",this._onResizeStop)}},{key:"_onResize",value:function(e){e.stopPropagation();var t=e.shiftKey;Object(h.resizeImageCrop)(Object(y.Point)(e.clientX,e.clientY),t)}},{key:"_onResizeStop",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(h.startClipMove)({startPoint:Object(y.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(h.moveImageCrop)(Object(y.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,o=n.crop,i=n.cropDimensions,a=n.entitySize,u=n.backgroundDragEnabled,c=t.getProperty("url").replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"),l=i,s={WebkitClipPath:"inset(".concat(o.get("top"),"% ").concat(o.get("right"),"% ").concat(o.get("bottom"),"% ").concat(o.get("left"),"%)"),clipPath:"inset(".concat(o.get("top"),"% ").concat(o.get("right"),"% ").concat(o.get("bottom"),"% ").concat(o.get("left"),"%)"),left:-i.left,top:-i.top,width:a.width,height:a.height};return r.a.createElement("div",{className:g.a.container},r.a.createElement("img",{className:p()(g.a.cropBackground,(e={},E(e,g.a.draggableBackground,u),E(e,g.a.draggingBackground,this.state.draggingBackground),e)),src:c,onMouseDown:u?this.onBackgroundDragStart:void 0}),r.a.createElement("div",{className:g.a.previewContainer,style:l},r.a.createElement(_.default,{className:g.a.cropPreview,style:s,src:c,width:a.width,height:a.height,onMouseDown:u?this.onBackgroundDragStart:void 0,filters:t.getFilters(),clip:o})),r.a.createElement(m.default,{crop:o,onHandleMove:this._onResizeStart,onDrag:this._onDragStart}))}}]),t}(r.a.Component);j.propTypes={entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=l.Container.create(j,{withProps:!0})},"24P5":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2JkYmtCRMeDCR5ETOg-PxQ {\n    position: relative;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk {\n    position: absolute;\n    pointer-events: auto;\n    height: 50px;\n    width: 200px;\n    border-radius: 4px;\n    background-color: #333;\n    color: #FFF;\n    font-size: 13px;\n    z-index: 1;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk._1ud6saQSyVljOkpinJa1UN {\n    flex-direction: row;\n}\n.MyKbEG-a6pgf-2v7JNWAk._3jbgrFOwhzWGC56M4BqgA3 {\n    flex-direction: column;\n}\n\n.etnyl_5DRCOlVEaBEF7Kc {\n    position: absolute;\n    cursor: default;\n}\n\n._3-ACjlJCWwgK-E_L0ucFCV {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    z-index: 5;\n}\n\n.Y8xHqKqygs_QW-mkJ7Hcb {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    cursor: move;\n}\n\n.Eiz26vs6sopyhaLGTg1Sp {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n    pointer-events: none;\n}\n\n._3nKS33xr3tJn7m2Fu7zCuL {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._3nKS33xr3tJn7m2Fu7zCuL._3NA6U4FxWPIMpKGdTTSexB {\n    border: 1px solid #3195cb;\n}\n\n._3nKS33xr3tJn7m2Fu7zCuL._3EkQB39uHeWmM1WAaoJ7By {\n    border: 1px solid #3195cb;\n    border-radius: 4px;\n}\n",""]),t.locals={wrapper:"_2JkYmtCRMeDCR5ETOg-PxQ",callout:"MyKbEG-a6pgf-2v7JNWAk",horizontal:"_1ud6saQSyVljOkpinJa1UN",vertical:"_3jbgrFOwhzWGC56M4BqgA3",calloutEditItem:"etnyl_5DRCOlVEaBEF7Kc",calloutOverlay:"_3-ACjlJCWwgK-E_L0ucFCV",calloutOverlaySelect:"Y8xHqKqygs_QW-mkJ7Hcb",overlay:"Eiz26vs6sopyhaLGTg1Sp",overlayBorder:"_3nKS33xr3tJn7m2Fu7zCuL",solid:"_3NA6U4FxWPIMpKGdTTSexB",rounded:"_3EkQB39uHeWmM1WAaoJ7By"}},"30eB":function(e,t,n){var o=n("24P5");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"4LUD":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("vOnD").default.div.withConfig({displayName:"Highlightreact__DottedBorderBox",componentId:"athjb2-0"})(["position:absolute;top:-2px;left:-2px;bottom:-2px;right:-2px;pointer-events:none;border:2px dotted #ff00ff;"]);function a(){return r.a.createElement(i,null)}},"4Zd/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("TSYQ"),d=n.n(f),y=n("/MKj"),h=n("h7h9"),b=n("vmwM"),g=n("rQKZ"),m=n("U9m6"),v=n("HB54"),_=n.n(v),O=n("rfNr"),E=n("KoyB"),w=n("4LUD");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(y.connect)((function(e,t){var n=e.getIn(["flexCollaboration","users"]),o=n&&n.find((function(e){return e.get("selectedObjects").contains(t.entity.key)}));return o?{hasExternalSelection:e.getIn(["flexCollaboration","users"]).size>1,externalSelectionUserName:o.get("displayName"),externalSelectionUserColor:o.get("color")}:{}}),null,null,{areStatesEqual:function(e,t){return e.getIn(["flexCollaboration","users"])===t.getIn(["flexCollaboration","users"])}})(o=Object(g.default)({withProps:!0})((i=r=function(e){function t(){return j(this,t),R(this,T(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[b.default]}},{key:"calculateState",value:function(e,t){var n=null!==b.default.activeType,o=t.entity,r=t.selected,i=t.multipleSelected,a={isClipping:n};if(r&&!i&&"CHART"===o.type&&!o.locked){var u=h.default.getEntity(o.getKey());if(u){var c=u.chart;m.default.init(c).hasInPlaceEditing()&&(a.OverlayComponent=Object(E.default)(c))}}return a}}],(o=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.hasExternalSelection,o=e.selected,r=e.multipleSelected,i=e.highlighted;if((!o||o&&r)&&!n&&!i)return null;var c=this.state,l=c.isClipping,s=c.OverlayComponent,p=t.bounds(l);if(l){var f=Object(O.default)(t,{left:50,top:50});p.top+=f.get("y"),p.left+=f.get("x")}var y={top:p.top*this.props.scaleY,left:p.left*this.props.scaleX,width:p.width*this.props.scaleX,height:p.height*this.props.scaleY},h=C({},y,{position:"absolute",pointerEvents:"none",border:"1px dashed #3195cb"});return u.a.createElement(a.Fragment,null,n&&u.a.createElement("div",{className:_.a.border,style:C({},h,{border:"1px solid ".concat(this.props.externalSelectionUserColor)})},u.a.createElement("div",{className:_.a.username,style:{backgroundColor:this.props.externalSelectionUserColor}},this.props.externalSelectionUserName)),o&&!r&&!t.isConnector()&&!t.isLine()&&u.a.createElement("div",{className:d()(_.a.container),style:h},s&&u.a.createElement(s.component,s.props)),i&&u.a.createElement("div",{className:d()(_.a.container,_.a.highlight),style:y},u.a.createElement(w.default,null)))}}])&&P(n.prototype,o),r&&P(n,r),t}(a.Component),r.propTypes={entity:p.a.record.isRequired,scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,selected:l.a.bool.isRequired,multipleSelected:l.a.bool.isRequired,hasExternalSelection:l.a.bool,externalSelectionUserName:l.a.string,externalSelectionUserColor:l.a.string,highlighted:l.a.bool},o=i))||o)||o},"4fFA":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("8pFZ"),f=n("qLhN"),d=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=["from","to"];var O=function(e){function t(){return h(this,t),g(this,m(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e,t,n,o,r,i,u=this,c=(e=this.props,t=e.entity,n=e.scaleX,o=e.scaleY,r=e.block,i=e.pageSize,_.reduce((function(e,a){var u=Object(p.getPosition)(t.getIn(["props",a]),r,i);return e[a]={left:n*u.x-7,top:o*u.y-7},e}),{}));return a.a.createElement("div",null,_.map((function(e){return a.a.createElement("div",{className:s()(d.a.lineResizeHandle),style:{cursor:"move",left:c[e].left,top:c[e].top},key:e,ref:function(t){return u.props.handlers[e](t)}},a.a.createElement("div",{className:d.a.lineResizeHandleCircle}))})))}}])&&b(n.prototype,o),r&&b(n,r),t}(i.PureComponent);O.propTypes={handlers:r.a.object.isRequired,entity:c.a.record.isRequired,mousePosition:c.a.contains({x:r.a.number.isRequired,y:r.a.number.isRequired}),scaleX:r.a.number,scaleY:r.a.number,block:r.a.any.isRequired,pageSize:r.a.shape({width:r.a.number.isRequired,height:r.a.number.isRequired})}},"5I7P":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("1+J2"),p=n("f4JI"),f=n("kyW3"),d=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=l.default.div.withConfig({displayName:"CalloutPreviewreact__PreviewLink",componentId:"sc-1cexq7t-0"})(["background:#2d2d2d url(",") no-repeat center center;position:absolute;cursor:pointer;border-radius:4px;z-index:1;&:hover{text-decoration:none;}"],n("CwAB")),O=function(e){function t(){var e,n;h(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=g(this,(e=m(t)).call.apply(e,[this].concat(r))))._showCallout=function(e){n.props.onToggleCallout(n.props.entity,e),Object(s.logOpenObjectCalloutWebJs)({})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.entityBounds,o=e.scaleX,i=e.scaleY,a=t.getCallout(),u=Object(p.default)(a.get("position"),20/o,20/i,{entityBounds:n,calloutScale:{scaleX:o,scaleY:i},scaleX:o,scaleY:i});return r.a.createElement(_,{className:d.a[a.get("position")],style:u,onMouseLeave:this.props.onMouseLeave,onMouseEnter:this.props.onMouseEnter,onClick:this._showCallout})}}])&&b(n.prototype,o),i&&b(n,i),t}(o.PureComponent);O.propTypes={entity:c.a.record.isRequired,entityBounds:a.a.shape({top:a.a.number.isRequired,left:a.a.number.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onToggleCallout:a.a.func.isRequired,onMouseLeave:a.a.func,onMouseEnter:a.a.func}},"6kTI":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var o=n("XzT5"),r=n("q1tI"),i=n.n(r),a=n("H9x7"),u=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return l(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"showUpgradeDialog",value:function(){window.app.router.saveLocation(),window.app.router.navigate("//upgrade/flex_pages",{promote:{from:"flex_pages"}})}},{key:"render",value:function(){return i.a.createElement("div",{className:u.a.button,onClick:this.showUpgradeDialog},o.default.t("inspector.free.unlock_more_pages"))}}])&&s(n.prototype,r),a&&s(n,a),t}(r.PureComponent)},"70t9":function(e,t,n){"use strict";n.r(t),n.d(t,"Section",(function(){return p})),n.d(t,"SectionHeader",(function(){return f})),n.d(t,"SectionTitle",(function(){return d}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("17x9"),u=n.n(a),c=n("yb06"),l=n.n(c),s=n("oPkt"),p=i.default.div.withConfig({displayName:"ColorSectionreact__Section",componentId:"ey25ea-0"})(["margin:0px 0px 15px 0px;&:last-child{margin-bottom:0;}"]),f=i.default.div.withConfig({displayName:"ColorSectionreact__SectionHeader",componentId:"ey25ea-1"})(["display:flex;flex-direction:row;align-items:center;padding-bottom:10px;font-size:11px;"]),d=i.default.h3.withConfig({displayName:"ColorSectionreact__SectionTitle",componentId:"ey25ea-2"})(["flex-grow:1;font-size:12px;line-height:normal;"]),y=i.default.ul.withConfig({displayName:"ColorSectionreact__ColorList",componentId:"ey25ea-3"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;"]),h=i.default.li.withConfig({displayName:"ColorSectionreact__ColorListItem",componentId:"ey25ea-4"})(["display:inline-block;margin-right:5px;margin-bottom:5px;"]),b=function(e){var t=e.title,n=e.colors,o=e.onChoose;return r.a.createElement(p,{key:t},r.a.createElement(f,null,r.a.createElement(d,null,t)),!n.isEmpty()&&r.a.createElement(y,null,n.map((function(e){var t=e.value,n=e.displayValue,i=e.selected;return r.a.createElement(h,{key:t,title:n},r.a.createElement(s.default,{value:t,displayValue:n,active:i,onClick:o}))}))))};b.propTypes={title:u.a.string.isRequired,colors:l.a.list.isRequired,onChoose:u.a.func.isRequired},t.default=b},"76fW":function(e,t,n){var o=n("8tEq");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"7EpH":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("91cT"),r=n("Zcty");function i(){r.default.dispatch({type:o.START_NAVIGATING})}},"7pL7":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n.d(t,"Hsv",(function(){return a}));var o=n("SC+/");function r(e){if(e instanceof a)return new a(e.h,e.s,e.v,e.opacity);e instanceof o.rgb||(e=Object(o.rgb)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),u=Math.max(t,n,r),c=u-i,l=NaN;return c&&(l=t===u?(n-r)/c+6*(n<r):n===u?(r-t)/c+2:(t-n)/c+4,l*=60),new a(l,c/u,u,e.opacity)}function i(e,t,n,o){return 1===arguments.length?r(e):new a(e,t,n,null==o?1:o)}function a(e,t,n,o){this.h=+e,this.s=+t,this.v=+n,this.opacity=+o}var u=a.prototype=i.prototype=Object.create(o.color.prototype);function c(e,t,n,r,i){return Object(o.rgb)(255*(e+r),255*(t+r),255*(n+r),i)}u.constructor=a,u.brighter=function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new a(this.h,this.s,this.v*e,this.opacity)},u.darker=function(e){return e=null==e?.7:Math.pow(.7,e),new a(this.h,this.s,this.v*e,this.opacity)},u.rgb=function(){var e=isNaN(this.h)?0:this.h%360+360*(this.h<0),t=isNaN(this.h)||isNaN(this.s)?0:this.s,n=this.v,o=this.opacity,r=n*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r;return e<60?c(r,i,0,a,o):e<120?c(i,r,0,a,o):e<180?c(0,r,i,a,o):e<240?c(0,i,r,a,o):e<300?c(i,0,r,a,o):c(r,0,i,a,o)},u.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.v&&this.v<=1&&0<=this.opacity&&this.opacity<=1}},"8tEq":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._24lLGmRDcNw_dIH0AL_7iB {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._386twuBpgmEEmpVQeSAHto {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n._1ijU__Dq4DPLkrxGzj7F8- {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._1amREtop4c-HGwYbGbvI8z {\n    cursor: grabbing;\n}\n\n.wJem9qYHKSzsO5d_lR9U9 {\n    position: absolute;\n    overflow: hidden;\n}\n\n._mAVZ2K2bzwSWgxKA20k {\n    position: absolute;\n}\n\n._1_FLyJFH2ezo-67GvocIFS {\n    position: absolute;\n    box-sizing: border-box;\n    border: 2px dotted #ff00ff;\n    pointer-events: auto;\n}\n\n.Vunraq2yFK8_L3qE9HYCc {\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    border: 1px solid #fff;\n    pointer-events: auto;\n}\n\n._17DZGw_UMkidLQzj6zqI5u,\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    width: 15px;\n    height: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n._17DZGw_UMkidLQzj6zqI5u:hover,\n._3f_i2tRbMJ0iQfXDBKEW95:hover {\n    transform: translateX(-50%) scale(1.5);\n}\n\n._3hpZSIf02CeSNPNFGL4cX6,\n._3eGpzkXhWxjiONt-rlaD21 {\n    width: 3px;\n    height: 15px;\n    top: 50%;\n    transform: translateY(-50%);\n}\n._3hpZSIf02CeSNPNFGL4cX6:hover,\n._3eGpzkXhWxjiONt-rlaD21:hover {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._17DZGw_UMkidLQzj6zqI5u {\n    top: -4px;\n    cursor: n-resize;\n}\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    bottom: -4px;\n    cursor: s-resize;\n}\n._3hpZSIf02CeSNPNFGL4cX6 {\n    left: -4px;\n    cursor: w-resize;\n}\n._3eGpzkXhWxjiONt-rlaD21 {\n    right: -4px;\n    cursor: e-resize;\n}\n\n.yCdcdFrZGotgRwIGkGAeA {\n    display: block;\n    position: absolute;\n    width: 4px;\n    height: 4px;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    background: #ff00ff;\n    border-left: 1px solid #fff;\n    border-top: 1px solid #fff;\n}\n.yCdcdFrZGotgRwIGkGAeA:before,\n.yCdcdFrZGotgRwIGkGAeA:after {\n    content: '';\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    box-sizing: border-box;\n    border: 1px solid #fff;\n}\n.yCdcdFrZGotgRwIGkGAeA:before {\n    height: 6px;\n    width: 4px;\n    left: -1px;\n    bottom: -6px;\n    border-top: none;\n}\n.yCdcdFrZGotgRwIGkGAeA:after {\n    width: 6px;\n    height: 4px;\n    right: -6px;\n    top: -1px;\n    border-left: 0;\n}\n\n._2-Z5KP4_DqT8SZxrVVyC-N {\n    top: -4px;\n    left: -4px;\n    cursor: nw-resize;\n}\n._2-Z5KP4_DqT8SZxrVVyC-N:hover {\n    transform: scale(1.5);\n}\n\n._1r2p9DbL8irH3tlvXFxn_w {\n    top: -4px;\n    right: -4px;\n    transform: rotate(90deg);\n    cursor: ne-resize;\n}\n._1r2p9DbL8irH3tlvXFxn_w:hover {\n    transform: rotate(90deg) scale(1.5);\n}\n\n._3Jk4Zm5I0v0qCRk0bhIyJs {\n    bottom: -4px;\n    right: -4px;\n    transform: rotate(180deg);\n    cursor: se-resize;\n}\n._3Jk4Zm5I0v0qCRk0bhIyJs:hover {\n    transform: rotate(180deg) scale(1.5);\n}\n\n._1EPEAYJ1xCcdvncIPoTPt8 {\n    bottom: -4px;\n    left: -4px;\n    transform: rotate(270deg);\n    cursor: sw-resize;\n}\n._1EPEAYJ1xCcdvncIPoTPt8:hover {\n    transform: rotate(270deg) scale(1.5);\n}\n\n.Vunraq2yFK8_L3qE9HYCc,\n.yCdcdFrZGotgRwIGkGAeA {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={container:"_24lLGmRDcNw_dIH0AL_7iB",cropBackground:"_386twuBpgmEEmpVQeSAHto",draggableBackground:"_1ijU__Dq4DPLkrxGzj7F8-",draggingBackground:"_1amREtop4c-HGwYbGbvI8z",previewContainer:"wJem9qYHKSzsO5d_lR9U9",cropPreview:"_mAVZ2K2bzwSWgxKA20k",cropBox:"_1_FLyJFH2ezo-67GvocIFS",sideHandle:"Vunraq2yFK8_L3qE9HYCc",topHandle:"_17DZGw_UMkidLQzj6zqI5u",bottomHandle:"_3f_i2tRbMJ0iQfXDBKEW95",leftHandle:"_3hpZSIf02CeSNPNFGL4cX6",rightHandle:"_3eGpzkXhWxjiONt-rlaD21",cornerHandle:"yCdcdFrZGotgRwIGkGAeA",topLeftHandle:"_2-Z5KP4_DqT8SZxrVVyC-N",topRightHandle:"_1r2p9DbL8irH3tlvXFxn_w",bottomRightHandle:"_3Jk4Zm5I0v0qCRk0bhIyJs",bottomLeftHandle:"_1EPEAYJ1xCcdvncIPoTPt8"}},"9EZc":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("yb06"),f=n.n(p),d=n("/MKj"),y=n("dGoc"),h=n.n(y),b=n("244d");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Object(d.connect)((function(e){var t=e.getIn(["revisions","editorState"]).getCurrentContent();return{content:t,totalPages:t.getBlocks().size}}))((i=r=function(e){function t(){return m(this,t),_(this,O(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.block,n=e.children,o=e.content,r=e.totalPages,i=o.getBlockIndex(t.getKey())+1;return c.a.createElement("div",{className:h.a.blockContainer},c.a.createElement("div",{className:h.a.pageIndicatorText},a.default.t("app.freelayout_editor.page_n_of_m",{current:i,total:r})),c.a.createElement(b.default,{block:this.props.block,width:this.props.width,height:this.props.height,observer:this.props.observer},n))}}])&&v(n.prototype,o),r&&v(n,r),t}(u.PureComponent),r.propTypes={content:s.a.object.isRequired,children:s.a.node.isRequired,block:f.a.record.isRequired,totalPages:s.a.number.isRequired,width:s.a.number.isRequired,height:s.a.number.isRequired,observer:s.a.shape({observe:s.a.func.isRequired,unobserve:s.a.func.isRequired}).isRequired},o=i))||o},"9s3c":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("ZgL/"),s=n("dcZU");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,y(t).call(this,e)))._refs={},n._handlers={connectorCreate:n._assignHandler("connectorCreate")},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?l.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&l.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){return r.a.createElement(s.default,{entity:this.props.entity,handlers:this._handlers,scaleX:this.props.scaleX,scaleY:this.props.scaleY})}}])&&f(n.prototype,o),i&&f(n,i),t}(o.PureComponent);b.propTypes={entity:c.a.record.isRequired,handlerKey:a.a.string.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=b},B6Rb:function(e,t,n){"use strict";n.r(t),n.d(t,"getOverlayMode",(function(){return r}));var o=n("avnT");function r(e){return e.isConnector()?o.OVERLAY_MODES.CONNECTOR:"TEXT"===e.type?o.OVERLAY_MODES.TEXT:e.isLine()?o.OVERLAY_MODES.LINE:o.OVERLAY_MODES.RECTANGLE}},Caa3:function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(){return e}}},D4ZG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._7F4Du4QULhT9hrP6W8dfc {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    z-index: 1;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border: 1px dotted #3195cb;\n    transform-origin: 50% 50%;\n}\n\n.Bk87vnu9ySW7PPGJCgWpT {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._25FdaVd1hdY_MFUV2jIl6B {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._2JjwwFGXeVCMGaLVAPxCHd {\n    cursor: grabbing;\n}\n\n._1WCYG90HItV-GDrCwVHX_A {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n._1mqEolyZPAOFLcc6Tv54Dx {\n    position: absolute;\n    pointer-events: none;\n}\n\n._1Ny5UIBof4pp080ZCHJNk_ {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px dotted #3195cb;\n    /* selector outset, see style.css */\n    margin: 30px;\n    pointer-events: auto;\n}\n\n._3tsj5CslQQhm19G_IECAjI {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    margin: 3px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    cursor: pointer;\n}\n\n._6iLiQc328B94GBUVfdXHG {\n    cursor: ne-resize;\n}\n\n._3m-_bd9o4TRwVW4fIN-dIW {\n    cursor: se-resize;\n}\n\n.XDlnA8oHDEkx4ALDFDvGD {\n    cursor: sw-resize;\n}\n\n._1pYxf9xwsuCAArivN9kUlQ {\n    cursor: nw-resize;\n}\n",""]),t.locals={container:"_7F4Du4QULhT9hrP6W8dfc",mask:"_2lgtazEtFwc2F5pJlUs8Ug",background:"Bk87vnu9ySW7PPGJCgWpT",draggableBackground:"_25FdaVd1hdY_MFUV2jIl6B",draggingBackground:"_2JjwwFGXeVCMGaLVAPxCHd",preview:"_1WCYG90HItV-GDrCwVHX_A",selector:"_1mqEolyZPAOFLcc6Tv54Dx",dragHandle:"_1Ny5UIBof4pp080ZCHJNk_",resizeHandle:"_3tsj5CslQQhm19G_IECAjI",ne:"_6iLiQc328B94GBUVfdXHG",se:"_3m-_bd9o4TRwVW4fIN-dIW",sw:"XDlnA8oHDEkx4ALDFDvGD",nw:"_1pYxf9xwsuCAArivN9kUlQ"}},DYZ5:function(e,t,n){"use strict";n.r(t);var o=n("gqLB");t.default=o.default},EKTl:function(e,t,n){e.exports=n.p+"3VmNdJ_SRF46ZYXVN5RMF4.svg"},GRZN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("wd/R"),d=n.n(f),y=n("TSYQ"),h=n.n(y),b=n("rMMX"),g=n("ZGOS"),m=n.n(g);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=Object(p.connect)((function(e){var t=e.getIn(["revisions","selectedIndex"]),n=e.getIn(["revisions","revisions"]),o={selectedIndex:t};if(t&&n.size){var r=n.filter((function(e){return!e.get("hidden")})).get(t);r&&(o.name=r.get("userName"),o.avatar=r.get("userAvatar"),o.date=d.a.unix(r.get("createdAt")).format("YYYY-MM-DD, H:mm"))}return o}))((i=r=function(e){function t(){return _(this,t),E(this,w(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e;return e=this.props.selectedIndex?c.a.createElement("div",{className:m.a.version},c.a.createElement("div",{className:m.a.date},this.props.date),c.a.createElement(b.default,{avatarClass:m.a.avatar,avatarImage:this.props.avatar,fullName:this.props.name}),c.a.createElement("div",{className:m.a.name},this.props.name)):c.a.createElement("div",{className:m.a.version},a.default.t("app.revisions.current_version")),c.a.createElement("div",{className:m.a.title},c.a.createElement("div",{className:h()("icon-history",m.a.icon)}),c.a.createElement("div",{className:m.a.label},a.default.t("app.revisions.version_history_label")),e)}}])&&O(n.prototype,o),r&&O(n,r),t}(u.PureComponent),r.propTypes={selectedIndex:s.a.number.isRequired,date:s.a.string,avatar:s.a.string,name:s.a.string},o=i))||o},GnhQ:function(e,t,n){e.exports=n.p+"wvLPl18gUwE54vzgEIsl7.svg"},H9x7:function(e,t,n){var o=n("hBIi");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},HB54:function(e,t,n){var o=n("h0S4");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},Hejo:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var o,r,i,a=n("LvDl"),u=n.n(a),c=n("q1tI"),l=n.n(c),s=n("17x9"),p=n.n(s),f=n("yb06"),d=n.n(f),y=n("IYwU"),h=n("/MKj"),b=n("EKef"),g=n("Sye6"),m=n("34VB"),v=n("ySsV"),_=n("rQKZ"),O=n("hl5+"),E=n("aXXi"),w=n("pWtM"),S=n("gn/5"),x=n("OG9s"),C=n("MxqP"),k=n("/TeS"),j=n("xVW7"),P=n("6kTI"),R=n("0ENQ");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=Object(y.DropTarget)("ELEMENT_MENU_ITEM",{drop:function(e,t){return t.getClientOffset()}},(function(e){return{connectDropTarget:e.dropTarget()}}))(o=Object(h.connect)((function(e){var t=e.get("conversations");return{footerSettings:e.get("footerSettings"),guideSettings:e.get("flexEditorGrid"),commenting:t.commenting,commentingIsAvailable:t.commentingEnabled||t.triggerUpgrade,commentingTriggerUpgrade:t.triggerUpgrade,comments:t.comments,thumbsView:e.getIn(["editorZoom","thumbsView"])}}),(function(e){return{notifySelectionChange:function(t,n){e({type:E.FLEX_EDITOR_SELECTION_CHANGED,payload:{projectId:t,selection:n}})},updateMousePosition:function(t,n){e({type:E.MOUSE_MOVE,payload:{x:t,y:n}})},onAddComment:function(t,n,o){e(Object(S.default)(t,n,o))},onMoveComment:function(t,n){e(Object(x.default)(t,n))},onCommentPositionChanged:function(t){e(Object(C.saveCommentPosition)(t))},onToggleComment:function(t){e({type:k.CONVERSATIONS_TOGGLE_MARKER,payload:{key:t.key}})},onCloseConversations:function(){e({type:k.CONVERSATIONS_CLOSE_SIDEBAR})},onScale:function(t){e({type:O.EDITOR_SCALE,payload:{scale:t}})},onToggleCallout:function(t){e({type:R.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("footerSettings")===t.get("footerSettings")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("editorZoom")===t.get("editorZoom")}})(o=Object(_.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=A(t).call(this,e),(n=!r||"object"!==T(r)&&"function"!=typeof r?M(o):r)._updateMousePositionWithChecks=n._updateMousePositionWithChecks.bind(M(n)),n.throttledUpdateMousePosition=u.a.throttle((function(e,t){n.props.updateMousePosition(e,t)}),100),n._addComment=n._addComment.bind(M(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),q(t,null,[{key:"getStores",value:function(){return[b.default,g.default,v.default,j.default]}},{key:"calculateState",value:function(e,t){var n=g.default.currentSelection,o=!(j.default.resizing||j.default.dragging||j.default.navigating)&&(t.commenting||!n.isEmpty());return{projectId:v.default.infographicId,editorState:b.default.editorState,initialBoundingBox:g.default.initialBoundingBox,multiSelectionActive:g.default.multiSelectionActive,groupsInEditMode:g.default.groupsInEditMode,currentSelection:n,mousePositionUpdatesEnabled:o,navigating:j.default.navigating}}}]),q(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=z(e,["connectDropTarget"]);return t(l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(m.default,D({blockOverlayComponent:w.default,currentSelection:this.state.currentSelection,editorState:this.state.editorState,initialBoundingBox:this.state.initialBoundingBox,multiSelectionActive:this.state.multiSelectionActive,footerSettings:this.props.footerSettings,guideSettings:this.props.guideSettings,groupsInEditMode:this.state.groupsInEditMode},n,{updateMousePosition:this._updateMousePositionWithChecks,navigating:this.state.navigating,thumbsView:this.props.thumbsView,onAddComment:this._addComment,pageUpgradeComponent:P.default}))))}},{key:"componentDidUpdate",value:function(e,t){t.currentSelection!==this.state.currentSelection&&this.props.notifySelectionChange(this.state.projectId,[].concat(I(this.state.currentSelection.getEntities()),I(this.state.currentSelection.getBlocks())))}},{key:"componentDidMount",value:function(){var e=this,t=function(e){var t=document.body.clientWidth;t-=410;var n=e.getPageSize().width;if(n<=t)return 1;return t/n}(this.state.editorState);t<1&&requestAnimationFrame((function(){return e.props.onScale(t)}))}},{key:"_updateMousePositionWithChecks",value:function(e,t){var n=this;this.state.mousePositionUpdatesEnabled&&(this.props.commenting?requestAnimationFrame((function(){return n.props.updateMousePosition(e,t)})):this.throttledUpdateMousePosition(e,t))}},{key:"_addComment",value:function(e,t,n){this.props.commentingTriggerUpgrade?(window.app.router.saveLocation(),window.app.router.navigate("//upgrade/commenting",{promote:{from:"commenting"}})):this.props.onAddComment(e,t,n)}}]),t}(l.a.Component),r.propTypes={connectDropTarget:p.a.func.isRequired,footerSettings:p.a.shape({backgroundColor:p.a.string,backgroundOpacity:p.a.number.isRequired,bold:p.a.bool,footerLayout:p.a.string,footnoteType:p.a.string,footnoteText:p.a.string,footnoteStyle:p.a.shape({bold:p.a.bool,italic:p.a.bool,fontSize:p.a.number,color:p.a.string}),italic:p.a.bool,logoType:p.a.string,logoImage:p.a.string,logoName:p.a.string,footerLink:p.a.string}),guideSettings:d.a.contains({showGuides:p.a.bool.isRequired,snapObjects:p.a.bool.isRequired,whitespacePercent:p.a.number.isRequired,columnCount:p.a.number.isRequired,rowSpacing:p.a.number.isRequired}),notifySelectionChange:p.a.func.isRequired,updateMousePosition:p.a.func.isRequired,onAddComment:p.a.func.isRequired,onMoveComment:p.a.func.isRequired,onCommentPositionChanged:p.a.func.isRequired,onToggleComment:p.a.func.isRequired,onCloseConversations:p.a.func.isRequired,commenting:p.a.bool.isRequired,commentingIsAvailable:p.a.bool.isRequired,commentingTriggerUpgrade:p.a.bool.isRequired,comments:d.a.list,scroll:p.a.object,thumbsView:p.a.bool,onScale:p.a.func.isRequired,onToggleCallout:p.a.func.isRequired},o=i))||o)||o)||o},Huhh:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var o=n("AjAl"),r=n("xugc"),i=n("akyC"),a=n("4682"),u=n("aojp"),c=n("DYZ5"),l=n("hDjw"),s={MEDIA:o.default,TEXT:r.default,SHAPE:i.default,IMAGE:a.default,CHART:u.default,GROUP:c.default,CONNECTOR:l.default};function p(e){return s[e]||null}},KJEt:function(e,t,n){var o=n("tE8V");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},KoyB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("pWQL"),r=n("01y2");function i(e){switch(e.getTypeMod()){case o.MAP:return{component:r.default,props:{chartId:e.id}}}}},L7g7:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3RlZyoFq8cVDAlWG1Sw_kg {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3 {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3.zMa-BGuuvfCGiLAYC1fA2 {\n    border: 1px solid #3195cb;\n}\n\n._1DK_4PS0XZXN7do-tFhgqQ {\n    border: 1px solid #949496;\n}\n\n._1BZIFp5hXUEWExNBdUJ9X0 {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    padding: 3px;\n\n}\n._2iiUhZ7Y_Q2NSf2LFFRvOP {\n    pointer-events: none;\n    height: 11px;\n    width: 11px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n    -webkit-backface-visibility: hidden;\n    -moz-backface-visibility: hidden;\n}\n\n._1UP3fhANfTxN0p3PTRxaUv {\n    pointer-events: auto;\n    position: absolute;\n}\n\n._5fp0eO5UuTtwAV5uwaDLE {\n    pointer-events: none;\n    height: 12px;\n    width: 12px;\n    background: #3195cb;\n    border: 1px solid #fff;\n    border-radius: 7px;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n    -webkit-backface-visibility: hidden;\n    -moz-backface-visibility: hidden;\n}\n\n.JobBQiwGqcOI6IQgJAZxP {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0px;\n    bottom: 0px;\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.GWuKHlGdjno2LFfFiCS0X {\n    position: absolute;\n    width: 10px;\n    top: 27px;\n    bottom: 27px;\n    pointer-events: auto;\n    cursor: ew-resize;\n}\n._3486n3zS7iPrZTW6OpyRtn {\n    right: 27px;\n}\n._1zlap824fbGwjK21IE5fYX {\n    left: 27px;\n}\n\n._2GSDugobE6dhX_joWNIEn5 {\n    position: absolute;\n    top: 50%;\n    border-left: 1px solid #3195cb;\n    border-right: 1px solid #3195cb;\n    width: 5px;\n    height: 10px;\n    margin-top: -5px;\n    box-sizing: border-box;\n    pointer-events: none;\n}\n._1zlap824fbGwjK21IE5fYX > ._2GSDugobE6dhX_joWNIEn5 {\n    left: 1px;\n}\n._3486n3zS7iPrZTW6OpyRtn > ._2GSDugobE6dhX_joWNIEn5 {\n    left: 4px;\n}\n\n._2HwFDLuGWzO6CqrKkvkufK {\n    top: 22px;\n    right: 22px;\n}\n\n._2bY6bQQr7zN5JZy7Dptb1E {\n    bottom: 22px;\n    right: 22px;\n}\n\n._1URne1OECr2LNWwkVDV_RI {\n    bottom: 22px;\n    left: 22px;\n}\n\n._17Sum2bPk_4yUpBBPSUqq9 {\n    top: 22px;\n    left: 22px;\n}\n\n._13eq5M1ngWKc96cPdiPj3a {\n    top: 22px;\n    left: calc(50% - 8px);\n}\n\n.eyWKfy-g7yzv2hk2A4h24,\n._1-28k5q9Bj-G-tx0-8_WuF {\n    top: calc(50% - 8px);\n    left: 22px;\n}\n\n._22ez5hpRDc1gA9_j3-NvKO {\n    bottom: 22px;\n    left: calc(50% - 8px);\n}\n\n._13oA2Cf__9Bc1PhlwGQSME,\n._22tWNUCFbDdKHwX5bBN2r6 {\n    right: 22px;\n    top: calc(50% - 8px);\n}\n\n.sjgFRLhVr_2Zy8vYtfcCA {\n    top: calc(50% - 7px);\n    left: 23px;\n}\n\n._1tVw9zDNweqixeFpQYHrf4 {\n    top: calc(50% - 7px);\n    right: 23px;\n}\n\n.RtSgSBxPJBfeI5YGT_Uan {\n    top: -19px;\n    right: -1px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    position: absolute;\n    color: white;\n    white-space: nowrap;\n    padding: 3px;\n    font-size: 12px;\n}\n\n._22wp9SU3dZT-cYmsebJO8- {\n    height: 1px;\n    position: absolute;\n    left: 31px;\n    right: 31px;\n    top: calc(50% - 0.5px);\n    background: #3195cb;\n}\n._22wp9SU3dZT-cYmsebJO8-._1DzeuryGk1uKHxAjW-Fz9K {\n    background: #949496;\n}\n",""]),t.locals={selector:"_3RlZyoFq8cVDAlWG1Sw_kg",border:"_3gXkVFyF4sqO8qbVoF94w3",solid:"zMa-BGuuvfCGiLAYC1fA2",lockedSelected:"_1DK_4PS0XZXN7do-tFhgqQ",resizeHandle:"_1BZIFp5hXUEWExNBdUJ9X0",resizeHandleRectangle:"_2iiUhZ7Y_Q2NSf2LFFRvOP",lineResizeHandle:"_1UP3fhANfTxN0p3PTRxaUv",lineResizeHandleCircle:"_5fp0eO5UuTtwAV5uwaDLE",rotationIcon:"JobBQiwGqcOI6IQgJAZxP",resizeText:"GWuKHlGdjno2LFfFiCS0X",resizeTextEast:"_3486n3zS7iPrZTW6OpyRtn",resizeTextWest:"_1zlap824fbGwjK21IE5fYX",resizeTextHandle:"_2GSDugobE6dhX_joWNIEn5",ne:"_2HwFDLuGWzO6CqrKkvkufK",se:"_2bY6bQQr7zN5JZy7Dptb1E",sw:"_1URne1OECr2LNWwkVDV_RI",nw:"_17Sum2bPk_4yUpBBPSUqq9",n:"_13eq5M1ngWKc96cPdiPj3a",w:"eyWKfy-g7yzv2hk2A4h24",right:"_1-28k5q9Bj-G-tx0-8_WuF",s:"_22ez5hpRDc1gA9_j3-NvKO",e:"_13oA2Cf__9Bc1PhlwGQSME",left:"_22tWNUCFbDdKHwX5bBN2r6",begin:"sjgFRLhVr_2Zy8vYtfcCA",end:"_1tVw9zDNweqixeFpQYHrf4",username:"RtSgSBxPJBfeI5YGT_Uan",lineHover:"_22wp9SU3dZT-cYmsebJO8-",lockedLine:"_1DzeuryGk1uKHxAjW-Fz9K"}},L91u:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("TSYQ"),p=n.n(s),f=n("/MKj"),d=n("t/UT"),y=n("34VB"),h=n("9EZc"),b=n("4aXp"),g=n("db09"),m=n("dGoc"),v=n.n(m);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e,t,n,o){return n.renderItemContentsFn||(n.renderItemContentsFn=b.default),n.readOnly=!0,n.design=t,n.liveData="disabled",Object(b.default)(e,t,n,o)},k=Object(f.connect)((function(e){return{loading:e.getIn(["revisions","loading"]),editorState:e.getIn(["revisions","editorState"]),zoom:e.getIn(["editorZoom","zoom"])}}))((i=r=function(e){function t(){var e,n;O(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=w(this,(e=S(t)).call.apply(e,[this].concat(r)))).contents=u.a.createRef(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(o=[{key:"componentDidUpdate",value:function(){!this.scroller&&this.contents.current&&(this.scroller=new d.default(this.contents.current))}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.destroy()}},{key:"render",value:function(){var e,t,n,o=this.props,r=o.editorState,i=o.loading,a=o.zoom,c=o.userHasAccess;return!i&&r&&a?u.a.createElement("div",{className:p()(v.a.contents,(e={},t=v.a.contentsPaywall,n=!c,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),ref:this.contents},u.a.createElement(y.default,{editorState:r,renderItemContentsFn:C,blockWrapperComponent:h.default,scaleX:a,scaleY:a,readOnly:!0,scroll:this.scroller,blockOverlayComponent:g.default})):null}}])&&E(n.prototype,o),r&&E(n,r),t}(a.PureComponent),r.propTypes={loading:l.a.bool.isRequired,userHasAccess:l.a.bool.isRequired,editorState:l.a.object,zoom:l.a.number},o=i))||o},Lgib:function(e,t,n){var o=n("R8DA");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},Lobp:function(e,t,n){var o=n("gedv");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},M5lW:function(e,t,n){e.exports=n.p+"2c3jK9O0GhVeFfKVItaBba.svg"},MCma:function(e,t,n){"use strict";n.r(t),n.d(t,"copyElementStyle",(function(){return m})),n.d(t,"pasteElementStyle",(function(){return v}));var o=n("LvDl"),r=n.n(o),i=n("Zcty"),a=n("pbbw"),u=n("Blv9"),c=n("8Pz5"),l=n("Sye6"),s=n("QaFw"),p=n("EKef"),f=n("h7h9"),d=n("hl5+");function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h={SHAPE:["fill","opacity","rx","ry","stroke","strokeType","strokeWidth"],IMAGE:["crop","mask","opacity","fill"],CONNECTOR:["opacity","stroke","strokeType","strokeWidth"],MEDIA:{video:["opacity","playback"]}};function b(e,t){return e.updateIn(["content","blocks"],(function(e){return e.map((function(e){return e.merge({data:t.style,inlineStyleRanges:g(e.get("text").length)})}))}))}function g(e){var t=s.default.styleClipboard.inlineStyleRanges,n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value;0===c.get("offset")&&n.push({length:e,offset:0,style:c.get("style")})}}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}function m(){i.default.dispatch({type:d.COPY_ELEMENT_STYLE})}function v(){var e=s.default.styleClipboard,t=p.default.editorState;if(t){t=c.default.push(t,t.getCurrentContent());var n=l.default.currentSelection.getEntities(),o=new _;n.forEach((function(n){var i=t.getEntity(n),a={},c=i.getType();switch(c){case"CONNECTOR":case"SHAPE":case"IMAGE":var l=e.props,s=i.get("props");h[c].forEach((function(e){l.has(e)&&(s=s.set(e,l.get(e)))})),"SHAPE"===c&&i.getProperty("content")&&r.a.has(e,"style")&&(o.set(),s=b(s,e)),a.props=s;break;case"TEXT":var p=i.get("props");r.a.has(e,"style")&&(p=b(p,e)),r.a.has(e,"props.opacity")&&(p=(p=p.setIn(["content","opacity"],e.props.opacity)).set("opacity",e.props.opacity)),p=p.merge({scaleX:e.scaleX,scaleY:e.scaleY}),a.props=p,o.set();break;case"MEDIA":var d=e.props,y=i.get("props"),g=y.get("mediaType");if("video"===g){var m=!0,v=!1,_=void 0;try{for(var O,E=h[c][g][Symbol.iterator]();!(m=(O=E.next()).done);m=!0){var w=O.value;d.has(w)&&(y=y.set(w,d.get(w)))}}catch(e){v=!0,_=e}finally{try{m||null==E.return||E.return()}finally{if(v)throw _}}}a.props=y;break;case"CHART":a={props:{chartData:{}}};var S=f.default.getEntity(n),x=r.a.cloneDeep(e);Object(u.cleanupChartData)(S.chart.getTypeMod(),x),a.props.chartData=x}t=t.setEntity(n,a)})),Object(a.default)(t,{pasteElementStyle:!0,hasText:o.result})}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=!1}var t,n,o;return t=e,(n=[{key:"set",value:function(){this._value=!0}},{key:"result",get:function(){return this._value}}])&&y(t.prototype,n),o&&y(t,o),e}()},MIJD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("rQKZ"),p=n("sPuu"),f=n("vmwM"),d=n("hl5+"),y=n("/QJz"),h=n("W0Zp"),b=n("xVW7"),g=n("X7Jj"),m=n("30eB"),v=n.n(m);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=Object(s.default)({withProps:!0})((i=r=function(e){function t(){var e,n;O(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=w(this,(e=S(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},n._hover=function(){!n.state.hovered&&n.setState({hovered:!0})},n._unhover=function(){n.state.hovered&&n.setState({hovered:!1})},n._handleMouseDown=function(e){n.props.onMouseDown&&n.props.onMouseDown(n.props.entity,e)},n._handleMouseUp=function(e){n.props.onMouseUp&&n.props.onMouseUp(n.props.entity,e)},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[f.default,b.default]}},{key:"calculateState",value:function(e,t){return{clipping:f.default.activeEntityKey===t.entity.getKey()?f.default.activeType:null,resizing:b.default.resizing,dragging:b.default.dragging}}}],(o=[{key:"render",value:function(){var e,t=this.props,n=t.design,o=t.entity,r=t.scaleX,i=t.scaleY,a=t.selected,c=this.state,l=c.clipping,s=c.resizing,f=c.dragging,b=Object(p.default)(o,n,{scaleX:r,scaleY:i,rotate:0,resizeOnInit:!0},{readOnly:!1,inEditMode:!0}),m=o.getProperty("crop"),_=o.getProperty("mask"),O=l?o:o.bounds(),E={left:O.left*r,top:O.top*i,width:O.width*r,height:O.height*i,zIndex:l?2:1};if(l===d.IMAGE_CROP?e=u.a.createElement(y.default,{entity:o,scaleX:r,scaleY:i}):l===d.IMAGE_MASK&&(e=u.a.createElement(h.default,{entity:o,scaleX:r,scaleY:i})),l&&m){var w=m.get("left")+(100-m.get("left")-m.get("right"))/2,S=m.get("top")+(100-m.get("top")-m.get("bottom"))/2;E.transformOrigin="".concat(w,"% ").concat(S,"%")}else if(l&&_){var x=100*_.get("center").get("left"),C=100*_.get("center").get("top");E.transformOrigin="".concat(x,"% ").concat(C,"%")}return u.a.createElement("div",{className:v.a.calloutEditItem,style:E},u.a.createElement("div",{onMouseMove:this._hover,onMouseLeave:this._unhover,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},!e&&b),!l&&(a||this.state.hovered)&&u.a.createElement(g.default,{entity:o,width:E.width,height:E.height,selected:a,dragging:f,resizing:s,hovered:this.state.hovered}),e)}}])&&E(n.prototype,o),r&&E(n,r),t}(a.Component),r.propTypes={entity:l.a.object.isRequired,design:l.a.any.isRequired,scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,selected:l.a.bool,onMouseDown:l.a.func.isRequired,onMouseUp:l.a.func.isRequired},o=i))||o},MYRr:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Lgib"),s=n.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g={n:c()(s.a.sideHandle,s.a.n),ne:c()(s.a.cornerHandle,s.a.ne),e:c()(s.a.sideHandle,s.a.e),se:c()(s.a.cornerHandle,s.a.se),s:c()(s.a.sideHandle,s.a.s),sw:c()(s.a.cornerHandle,s.a.sw),w:c()(s.a.sideHandle,s.a.w),nw:c()(s.a.cornerHandle,s.a.nw)},m=function(e){function t(){var e,n;f(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=y(this,(e=h(t)).call.apply(e,[this].concat(r)))).state={selectedOrigin:void 0},n._refHandler=function(e){if(e){var t=e.getAttribute("data-origin");n._assignHandler(e,t)}},n._assignHandler=function(e,t){(Object.keys(g).indexOf(t)%2?n.props.handlers.resize:n.props.handlers.resizeSide)(e,t)},n._selectOrigin=function(e){var t=e.target.getAttribute("data-origin");n.setState({selectedOrigin:t})},n._resetSelectedOrigin=function(){n.setState({selectedOrigin:void 0})},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){var e=this;Object.keys(g).forEach((function(t){return e._assignHandler(void 0,t)}))}},{key:"componentDidUpdate",value:function(e){e.resizing&&!this.props.resizing&&this.state.selectedOrigin&&this._resetSelectedOrigin()}},{key:"render",value:function(){var e=this,t=Object.keys(g).filter((function(t){return(e.props.withHorizontalResize||-1===["w","e"].indexOf(t))&&(e.props.withVerticalResize||-1===["n","s"].indexOf(t))}));return r.a.createElement(o.Fragment,null,t.map((function(t){return r.a.createElement("div",{key:t,"data-origin":t,className:c()(g[t],(n={},o=s.a.selected,i=t===e.state.selectedOrigin,o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n)),ref:e._refHandler,onMouseDown:e._selectOrigin,onMouseUp:e._resetSelectedOrigin});var n,o,i})))}}])&&d(n.prototype,i),a&&d(n,a),t}(o.PureComponent);m.propTypes={handlers:a.a.shape({resize:a.a.func.isRequired,resizeSide:a.a.func.isRequired}).isRequired,withHorizontalResize:a.a.bool,withVerticalResize:a.a.bool,resizing:a.a.bool},m.defaultProps={withHorizontalResize:!0,withVerticalResize:!0}},Mzex:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("/MKj"),l=n("TSYQ"),s=n.n(l),p=n("LvDl"),f=n.n(p),d=n("vOnD"),y=n("17x9"),h=n.n(y),b=n("M39V"),g=n.n(b),m=n("XKI8"),v=n("rQKZ"),_=n("lc1c"),O=n("EKef"),E=n("e0gr"),w=n("l2A/"),S=n("e322"),x=n("kwfw"),C=n("U3Rh"),k=n("Dc/X"),j=n("c4R5"),P=n("hKtE"),R=n("luIk"),T=n("47mp"),I=n("Hejo"),D=n("sPuu"),z=n("KZTM"),A=n("RZ7o"),M=n("Z+h/"),N=n("vly6"),q=n("T9bt"),L=n("Q4CN"),H=n("wZCM"),B=n("gUtP"),X=n("/80h"),K=n("uwfs"),Y=n("USB3"),G=n("/cUP"),U=n("pbbw"),W=n("hl5+"),F=n("xZ3h"),Z=n("zQPj"),V=n("+mTV"),Q=n("4ncT"),J=n("Lobp"),$=n.n(J),ee=n("DszW"),te=n("fdVG"),ne=n("Ar8A"),oe=n("XSDi"),re=n("pJn0"),ie=n("DvT9"),ae=n("xVW7"),ue=n("G5AB"),ce=n("Sye6"),le=n("QlFE"),se=n("YNSi"),pe=n("d7P5"),fe=n("TJ0u");function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),e}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=g.a.getParser(window.navigator.userAgent).satisfies(Oe({},g.a.BROWSER_MAP.ie,"<=11")),we=d.default.div.withConfig({displayName:"Appreact__Contents",componentId:"sc-1sbr5fx-0"})(["position:fixed;left:50px;right:232px;top:80px;padding-top:20px;bottom:0px;text-rendering:optimizeLegibility !important;"," ",""],Ee&&"\n        position: relative;\n        left: -50px;\n        right: unset;\n    ",(function(e){return e.theme.id===Y.default.id?"\n        background: #E7E9EC;\n    ":""})),Se=["wheel","gesturechange","gesturestart"];function xe(e,t){document.addEventListener(e,t,!te.optionsSupported||{capture:!0,passive:!1})}function Ce(e,t){document.removeEventListener(e,t,!te.optionsSupported||{capture:!0,passive:!1})}var ke=function e(t,n,o,r){return o.renderItemContentsFn||(o.renderItemContentsFn=e),"CHART"===t.getType()?Object(D.default)(t,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{liveData:"once",viewMode:"edit"}),r):Object(D.default)(t,n,o,r)},je=Object(c.connect)((function(e){return{zoom:e.get("editorZoom").zoom}}),(function(e){return{onScale:function(t){e({type:W.EDITOR_SCALE,payload:{scale:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom}})(o=Object(v.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=he(t).call(this,e))||"object"!==de(r)&&"function"!=typeof r?be(o):r)._duplicateEntities=function(e,t,n,o){var r=Object(pe.default)(e,t);return Object(oe.default)(e,r,n,o)},n._handleItemChoice=n._handleItemChoice.bind(be(n)),n._handleGesture=n._handleGesture.bind(be(n)),n._handleMouseUp=n._handleMouseUp.bind(be(n)),n._handleZoom=n._handleZoom.bind(be(n)),n._handleZoomWithThrottle=f.a.throttle(n._handleZoom,40),n.state={scrollInitialized:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,e),me(t,null,[{key:"getStores",value:function(){return[_.default,E.ActiveTextEditorStore,S.default,O.default,ae.default,T.default,ce.default,fe.default]}},{key:"calculateState",value:function(){var e,t=E.ActiveTextEditorStore.editing&&!E.ActiveTextEditorStore.transforming,n=ae.default.resizing||ae.default.dragging||ae.default.navigating,o=ce.default.currentSelection.getEntities().size>1,r=T.default.currentPanel,i="";if(r&&(i=r.get("component").key||""),ce.default.currentSelection.isEmpty())e=ce.default.currentSelection.blocks.first();else{var a=ce.default.currentSelection.getEntities().first(),u=a&&O.default.editorState.getEntity(a);e=u&&u.getBlockKey()}return{actionLoading:_.default.loading,themeId:O.default.themeId,textEditingActive:t,panelName:i,preventTextSelection:!!S.default.rectangle||n||o,activeBlockKey:e||fe.default.activePageId}}}]),me(t,[{key:"componentDidMount",value:function(){var e=this;this._offscreenContainer=document.createElement("div"),this._offscreenContainer.className=$.a.offscreen,document.body.appendChild(this._offscreenContainer),this._contentEl.addEventListener("scroll",F.onScroll),this._scroll=Object(F.initFreelayoutScroll)(this._contentEl),Se.forEach((function(t){return xe(t,e._handleGesture)})),xe("paste",this._handlePaste),Object(m.setTooltip)(new Q.default({escapeFn:f.a.escape,parentElem:document.body})),document.addEventListener("click",Z.navigateToPageLinkHandler,!1),this.setState({scrollInitialized:!0})}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("click",Z.navigateToPageLinkHandler,!1),this._offscreenContainer&&this._offscreenContainer.parentNode.removeChild(this._offscreenContainer),Se.forEach((function(t){return Ce(t,e._handleGesture)})),Ce("paste",this._handlePaste),this._contentEl.removeEventListener("scroll",F.onScroll)}},{key:"render",value:function(){var e=this,t=this.state,n=t.textEditingActive,o=t.preventTextSelection,r=t.scrollInitialized,i=s()($.a.editor,this.state.actionLoading&&$.a.loading,o&&$.a.__selecting,n&&$.a.editingText),a=this.state.panelName?"panel_"+this.state.panelName:"";return u.a.createElement(P.default,null,u.a.createElement("div",{className:i,onMouseUp:this._handleMouseUp},u.a.createElement(j.default,null),u.a.createElement(L.default,null),u.a.createElement(we,{className:$.a.contents,ref:function(t){return e._contentEl=t}},u.a.createElement("div",{className:a},r&&u.a.createElement(I.default,{allowDragAndDrop:!n,onChange:U.default,onSelectionChange:ie.updateSelectionState,onSelectionBoundBoxChange:ie.updateBoundingBox,onDuplicateEntities:this._duplicateEntities,entityOverlayComponent:M.default,connectorEntityOverlays:N.default,multiSelectionOverlayComponent:x.default,entityBoundingBoxComponent:q.default,blockWrapperComponent:z.default,commentComponent:le.CommentMarker,commentingTooltipComponent:le.CommentingTooltip,calloutsComponent:se.default,renderItemContentsFn:ke,scaleX:this.props.zoom,scaleY:this.props.zoom,scroll:this._scroll,appContentEl:this._contentEl}))),u.a.createElement(R.default,{colorPickerClass:B.default.prezigram?K.default:X.default}),this.props.toolbar,u.a.createElement(C.default,{ref:"elementMenu",onSelect:this._handleItemChoice,displayShapes:!0,flex:!0},u.a.createElement(A.default,null)),u.a.createElement(H.default,{freeLayout:!0}),u.a.createElement(re.default,null),u.a.createElement(le.ConversationsSidebar,null)))}},{key:"_handleMouseUp",value:function(){S.default.rectangle&&(Object(ue.default)(),Object(w.selectionMouseUp)())}},{key:"_handlePaste",value:function(e){Object(ne.default)(e.clipboardData.getData("application/json")||e.clipboardData.getData("text/plain"),e)}},{key:"_handleGesture",value:function(e){if("gesturestart"===e.type)e.preventDefault(),this.pinchGestureStartScale=this.props.zoom;else if("gesturechange"===e.type)e.preventDefault(),this._handleZoomWithThrottle(e,this.pinchGestureStartScale*e.scale);else if("wheel"===e.type&&(e.metaKey||e.ctrlKey)){e.preventDefault(),e.stopImmediatePropagation();var t=Math.abs(e.deltaY)*Math.max(.25,this.props.zoom-.5),n=Math.min(50,Math.max(1,t))*(e.deltaY<0?-1:1);this._handleZoomWithThrottle(e,this.props.zoom-n/100)}else if("wheel"===e.type&&e.deltaX<0&&Math.abs(e.deltaX)>=Math.abs(e.deltaY)){var o=!1,r=e.target;do{if(o=o||r.scrollLeft>0)break}while(r=r.parentElement);o||e.preventDefault()}}},{key:"_handleZoom",value:function(e,t){var n=Math.min(Math.max(t,.25),5),o=this._scroll;if(o){var r=o.element,i=r.getBoundingClientRect(),a=(e.clientX-i.left+r.scrollLeft)/r.scrollWidth,u=(e.clientY-i.top+r.scrollTop)/r.scrollHeight;this.props.onScale(n),i=r.getBoundingClientRect(),r.scrollLeft=a*r.scrollWidth-e.clientX+i.left,r.scrollTop=u*r.scrollHeight-e.clientY+i.top,o.update()}else this.props.onScale(n)}},{key:"_handleItemChoice",value:function(e){var t=this.state.activeBlockKey,n=e.dropResult,o=e.type,r=e.subtype,i=O.default.editorState,a=Object(ee.getItemOptions)(i,{clientOffset:n,zoom:this.props.zoom,activeBlockKey:t});switch(a.drop=!!n,o){case"CHART":if("upgrade"===r)return void window.app.router.navigate("//upgrade/charts",{promote:{from:"grouped_combo"}});var u=ye(r.chartType||r.split("_").map((function(e){return parseInt(e,10)})),2),c=u[0],l=u[1];Object(G.addChart)({chartId:c,modifier:l,options:a});break;case"MAP":if(r.upgrade)return void window.app.router.navigate("//upgrade/region_maps",{promote:{from:"region_maps"}});a.isCustomMap=!!r.custom,Object(G.addMap)({id:r.id,title:r.title,options:a,freeLayout:!0});break;case"COMPOSITE":var s=Object(V.default)(r.elementType);a.offscreenContainer=this._offscreenContainer,Object(G.addCompositeItem)(s,a);break;case"TEXT":a.offscreenContainer=this._offscreenContainer,Object(G.addText)(r.elementType,a);break;case"SHAPE":Object(G.addShape)(r,a);break;case"IMAGE":case"ATLAS_IMAGE":case"ICON":var p=Object(k.default)(e);Object(G.addImage)(p,a);break;case"MEDIA":var f=r.mediaType,d=r.data;Object(G.addMedia)(f,d,a);break;case"INTEGRATION":a.offscreenContainer=this._offscreenContainer,Object(G.addIntegration)(r,a);break;case"ELEMENT":var y=e.subtype,h=y.entities,b=y.title;Object(G.addElement)(h,b,a);break;default:console.log("chosen item",e)}}}]),t}(u.a.Component),r.propTypes={toolbar:h.a.node.isRequired,zoom:h.a.number.isRequired,onScale:h.a.func.isRequired},o=i))||o)||o},N3rF:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("1+J2"),d=n("sAei"),y=n("wi6Z"),h=n("dDeV"),b=n("fwYx"),g=n("w6T9"),m=n("i5wb"),v=n("GRZN"),_=n("L91u"),O=n("Zcty"),E=n("pbbw"),w=n("DvT9"),S=n("Sye6"),x=n("bZl7"),C=n("R1L0"),k=n("ZBhn"),j=n("dGoc"),P=n.n(j);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=Object(p.connect)((function(e){var t=e.getIn(["revisions","extraData"]);return{selectedIndex:e.getIn(["revisions","selectedIndex"]),editorState:e.getIn(["revisions","editorState"]),extraData:t?t.toJS():{},userHasAccess:x.default.canAccessRevisions}}),(function(e){return{hideRevisions:function(){e({type:C.REVISIONS_HIDE})},logPaywallHit:function(){e({type:C.REVISIONS_PAYWALL_HIT})}}}))((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=I(t).call(this,e))||"object"!==R(r)&&"function"!=typeof r?D(o):r).triggerUpgrade=function(){Object(f.logStartUpgradeWebJs)({upgrade_trigger:d.upgrade_trigger.REVISIONS}),window.app.router.navigate("//pay/whitepro?period=year")},n.restoreRevision=n.restoreRevision.bind(D(n)),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),n=t,(o=[{key:"restoreRevision",value:function(){Object(w.updateSelectionState)(S.default.currentSelection.clear()),Object(E.default)(this.props.editorState),O.default.dispatch({type:k.RECEIVE_EXTRA_DATA,payload:this.props.extraData}),this.props.hideRevisions()}},{key:"componentDidMount",value:function(){this.props.userHasAccess||this.props.logPaywallHit()}},{key:"render",value:function(){var e,t,n=this.props,o=n.hideRevisions,r=n.editorState,i=n.selectedIndex,u=n.userHasAccess;return i&&r&&(e=c.a.createElement(g.default,{useButtonTag:!0,className:P.a.toolbarRestoreButton,onClick:this.restoreRevision},a.default.t("app.revisions.restore_version"))),u||(t=c.a.createElement("div",null,c.a.createElement("div",{className:P.a.paywallBackground}),c.a.createElement("div",{className:P.a.paywallContent},c.a.createElement("img",{className:P.a.paywallImage,src:"/i/revisions/paywall_icon.png"}),c.a.createElement("h3",{className:P.a.paywallTitle},a.default.t("popup.upgrade_promo.revisions_title")),c.a.createElement("p",{className:P.a.paywallText,dangerouslySetInnerHTML:{__html:a.default.t("popup.upgrade_promo.revisions_text")}}),c.a.createElement(g.default,{blue:!0,className:P.a.paywallButton,onClick:this.triggerUpgrade},a.default.t("popup.upgrade_promo.revisions_upgrade"))))),c.a.createElement("div",{className:P.a.root},c.a.createElement(h.default,{fixed:!0},c.a.createElement(h.ToolbarGroup,null,c.a.createElement(b.default,{onClick:o}),c.a.createElement(v.default,null)),c.a.createElement(h.ToolbarGroup,null,e)),c.a.createElement(y.default,{side:"right"},c.a.createElement("p",{className:P.a.panelTitle},a.default.t("app.revisions.version_history")),c.a.createElement(m.default,null)),c.a.createElement(_.default,{userHasAccess:u}),t)}}])&&T(n.prototype,o),r&&T(n,r),t}(u.PureComponent),r.propTypes={hideRevisions:s.a.func.isRequired,logPaywallHit:s.a.func.isRequired,selectedIndex:s.a.number.isRequired,editorState:s.a.object,extraData:s.a.object,userHasAccess:s.a.bool.isRequired},o=i))||o},NI0h:function(e,t,n){"use strict";n.r(t);var o=n("N3rF");n.d(t,"default",(function(){return o.default}))},OG9s:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var o=n("/TeS"),r=n("EKef"),i=n("alRy");function a(e,t){var n=t.mouseX,a=t.mouseY,u=t.scaleX,c=t.scaleY,l=e.objectId&&r.default.editorState.getEntity(e.objectId),s=Object(i.default)(e.blockId,l,{mouseX:n,mouseY:a,scaleX:u,scaleY:c});return{type:o.CONVERSATIONS_CHANGE_COMMENT,payload:{key:e.key,put:{positionX:s.x,positionY:s.y}}}}},"OJ/W":function(e,t,n){"use strict";n.r(t),n.d(t,"Hue",(function(){return v}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=u.default.div.withConfig({displayName:"Huereact__HueHolder",componentId:"sc-13hjdae-0"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;"]),h=u.default.div.withConfig({displayName:"Huereact__HueContainer",componentId:"sc-13hjdae-1"})(["position:relative;height:100%;background:#ff0000;background:url(",");background:-moz-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#ff0000),color-stop(15%,#ff00ff),color-stop(33%,#0000ff),color-stop(49%,#00ffff),color-stop(67%,#00ff00),color-stop(84%,#ffff00),color-stop(100%,#ff0000));background:-webkit-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-o-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-ms-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:linear-gradient(to bottom,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"],n("Rz4B")),b=u.default.div.attrs((function(e){var t=e.hue;return{style:{top:"".concat(m(t),"%")}}})).withConfig({displayName:"Huereact__Pointer",componentId:"sc-13hjdae-2"})(["position:absolute;left:0px;"]),g=function(e,t,n){var o,r=n.clientHeight,i=("number"==typeof e.pageY?e.pageY:e.touches[0].pageY)-(n.getBoundingClientRect().top+window.pageYOffset);if(i<0)o=359;else if(i>r)o=0;else{var a=-100*i/r+100;o=Math.round(360*a/100)}return t.h!==o?{h:o,s:t.s,v:t.v}:null};function m(e){return-100*e/360+100}var v=function(e){function t(){var e,n;l(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=p(this,(e=f(t)).call.apply(e,[this].concat(i))))._container=r.a.createRef(),n._handleChange=function(e){var t=n.props.hsv;e.preventDefault();var o=g(e,t,n._container.current);o&&n.props.onChange(o)},n._handleMouseDown=function(e){n._handleChange(e),window.addEventListener("mousemove",n._handleChange),window.addEventListener("mouseup",n._handleMouseUp)},n._handleMouseUp=function(){n._unbindEventListeners()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._unbindEventListeners()}},{key:"render",value:function(){var e=this.props.hsv.h;return r.a.createElement(y,null,r.a.createElement(h,{ref:this._container,onMouseDown:this._handleMouseDown,onTouchMove:this._handleChange,onTouchStart:this._handleChange},r.a.createElement(b,{hue:e},this.props.children)))}},{key:"_unbindEventListeners",value:function(){window.removeEventListener("mousemove",this._handleChange),window.removeEventListener("mouseup",this._handleMouseUp)}}])&&s(n.prototype,o),i&&s(n,i),t}(o.PureComponent);v.propTypes={hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired},t.default=v},OVpQ:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("avnT"),f=n("76fW"),d=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return h(this,t),m(this,v(t).apply(this,arguments))}return _(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.origin,n=e.onClick,o=e.className;return r.a.createElement("div",{onMouseDown:n,"data-origin":t,className:o})}}]),t}(o.PureComponent);E.propTypes={origin:a.a.string.isRequired,onClick:a.a.func.isRequired,className:a.a.string};var w=function(e){function t(){return h(this,t),m(this,v(t).apply(this,arguments))}return _(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.crop,n=e.onDrag,o=e.onHandleMove,i={top:"".concat(t.get("top"),"%"),right:"".concat(t.get("right"),"%"),bottom:"".concat(t.get("bottom"),"%"),left:"".concat(t.get("left"),"%")};return r.a.createElement("div",{className:d.a.cropBox,style:i,onMouseDown:n},r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.N,className:s()(d.a.sideHandle,d.a.topHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.E,className:s()(d.a.sideHandle,d.a.rightHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.S,className:s()(d.a.sideHandle,d.a.bottomHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.W,className:s()(d.a.sideHandle,d.a.leftHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.NW,className:s()(d.a.cornerHandle,d.a.topLeftHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.NE,className:s()(d.a.cornerHandle,d.a.topRightHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.SE,className:s()(d.a.cornerHandle,d.a.bottomRightHandle)}),r.a.createElement(E,{onClick:o,origin:p.RESIZE_ORIGIN.SW,className:s()(d.a.cornerHandle,d.a.bottomLeftHandle)}))}}]),t}(o.PureComponent);w.propTypes={crop:c.a.contains({top:a.a.number,right:a.a.number,bottom:a.a.number,left:a.a.number}).isRequired,onHandleMove:a.a.func,onDrag:a.a.func},t.default=w},OsVm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("SC+/"),l=n("SUR1"),s=n("OJ/W"),p=n("TKOg");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=u.default.div.withConfig({displayName:"ColorPicker__Container",componentId:"sc-1qhauen-0"})(["display:block;"]),m=u.default.div.withConfig({displayName:"ColorPicker__ColorSliders",componentId:"sc-1qhauen-1"})(["display:flex;height:150px;"]),v=u.default.div.withConfig({displayName:"ColorPicker__HueSize",componentId:"sc-1qhauen-2"})(["position:relative;width:15px;height:150px;margin-right:12px;margin-left:28px;"]),_=u.default.div.withConfig({displayName:"ColorPicker__HueSlider",componentId:"sc-1qhauen-3"})(["box-sizing:border-box;width:39px;height:0;border-width:6px 10px;border-style:solid;border-color:transparent "," transparent ",";margin-left:-12px;margin-top:-6px;"],"#191C28","#191C28"),O=u.default.div.withConfig({displayName:"ColorPicker__SaturationSize",componentId:"sc-1qhauen-4"})(["width:195px;height:150px;position:relative;"]),E=u.default.div.withConfig({displayName:"ColorPicker__SaturationCircle",componentId:"sc-1qhauen-5"})(["box-sizing:border-box;box-shadow:0 0 0 1px #ffffff,inset 0 0 0 1px #ffffff;border-radius:50%;cursor:pointer;transform:translate(-11px,-11px);width:22px;height:22px;border:2px solid #000;"]);function w(e){var t=Object(c.rgb)(e).hex(),n=Object(l.hsv)(t);return{h:n.h,s:n.s,v:n.v}}var S=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,h(t).call(this,e)))._onHsvChange=function(e){var t=Object(l.hsv)(e.h,e.s,e.v);n.props.onChange&&n.props.onChange(t.hex())},n._onHueChange=function(e){var t=w(n.props.color);if(isNaN(t.h))n.setState({hsv:{h:e.h}});else{var o=Object(l.hsv)(e.h,e.s,e.v);n.props.onChange(o.hex())}};var o=w(n.props.color);return n.state={hsv:{h:isNaN(o.h)?0:o.h,s:o.s,v:o.v},color:n.props.color},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.color!==t.color){var n=w(e.color);return{color:e.color,hsv:{h:isNaN(n.h)?t.hsv.h:n.h,s:n.s,v:n.v}}}return null}}],(o=[{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(m,null,r.a.createElement(O,null,r.a.createElement(p.default,{hsv:this.state.hsv,onChange:this._onHsvChange},r.a.createElement(E,null))),r.a.createElement(v,null,r.a.createElement(s.default,{hsv:this.state.hsv,onChange:this._onHueChange},r.a.createElement(_,null)))))}}])&&d(n.prototype,o),i&&d(n,i),t}(o.PureComponent);S.propTypes={x:a.a.number,y:a.a.number,color:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func}},PCE5:function(e,t,n){e.exports=n.p+"1UX2wJm6gEuBzuv3N2kSx3.svg"},PXfb:function(e,t,n){e.exports=n.p+"2wpgnFu1tbOPW42gIoNUeN.svg"},Pwhp:function(e,t,n){"use strict";n.r(t);var o=n("XzT5"),r=n("q1tI"),i=n.n(r),a=n("Jgc/"),u=n("NPi6"),c=n("Zcty"),l=n("bZl7"),s=n("Hb73"),p=n("oMAv"),f=n("ySsV"),d=n("t4t9"),y=n("EKef"),h=n("yIs3"),b=n("aXXi"),g=n("fS4f"),m=n("3NuN"),v=n("1+J2");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=O(t).call(this,e))||"object"!==_(r)&&"function"!=typeof r?E(o):r)._handleShareButtonClick=n._handleShareButtonClick.bind(E(n)),n._handleTeamButtonClick=n._handleTeamButtonClick.bind(E(n)),n._handleDuplicateClick=n._handleDuplicateClick.bind(E(n)),n._handleRenameClick=n._handleRenameClick.bind(E(n)),n._handleInfographicDelete=n._handleInfographicDelete.bind(E(n)),n._handleAnalyticsClick=n._handleAnalyticsClick.bind(E(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),S(t,null,[{key:"getStores",value:function(){return[y.default,f.default,d.default]}},{key:"calculateState",value:function(){return{canUndo:y.default.editorState.getUndoStack().size>0,canRedo:y.default.editorState.getRedoStack().size>0,infographicModel:f.default.model,status:f.default.status,saving:d.default.isSaving,projectTags:f.default.projectTags}}}]),S(t,[{key:"hasAccessToAnalytics",value:function(){return l.default.getCurrentProfile().isWhiteLabel}},{key:"_handleDuplicateClick",value:function(){h.default.duplicateInfographic(this.state.infographicModel.attributes.block_id)}},{key:"_handleRenameClick",value:function(){c.default.dispatch({type:b.TITLE_EDITOR_START_EDITING})}},{key:"_handleInfographicDelete",value:function(){var e=this.state.infographicModel.get("block_id");u.default.confirmDelete({get button(){return o.default.t("delete")},get description(){return o.default.t("app.library.delete_dialog.trash_description",{count:1})},get title(){return o.default.t("app.library.delete_dialog.trash_title",{count:1})}}).then((function(){h.default.trashInfographics([e]),window.app.router.navigate("#/library")}))}},{key:"_handleShareButtonClick",value:function(e){e&&e.preventDefault(),Object(v.logOpenShareDialogWebJs)(),Object(p.showAppShareDialog)({model:this.state.infographicModel})}},{key:"_handleTeamButtonClick",value:function(e){e&&e.preventDefault(),Object(v.logOpenShareDialogWebJs)(),Object(p.showAppShareDialog)({model:this.state.infographicModel,selectedTab:"team"})}},{key:"_handleAnalyticsClick",value:function(){this.hasAccessToAnalytics()?window.app.router.navigate("#/analytics/project/".concat(this.state.infographicModel.get("block_id"))):window.app.router.navigate("#/analytics")}},{key:"render",value:function(){var e=this.state,t=e.infographicModel,n=e.saving,o=e.canUndo,r=e.canRedo,a=e.status,u=e.projectTags;return i.a.createElement(s.default,{infographicId:t.get("block_id"),title:t.get("title"),projectTags:u,status:a,canUndo:o,canRedo:r,isFreeLayout:!0,saving:n,onShareClick:this._handleShareButtonClick,onTeamClick:this._handleTeamButtonClick,onDuplicateClick:this._handleDuplicateClick,onRenameClick:this._handleRenameClick,onDeleteClick:this._handleInfographicDelete,onAnalyticsClick:this._handleAnalyticsClick,onUndo:m.undo,onRedo:m.redo,onPreviewClick:g.enterFullscreen})}}]),t}(i.a.Component);t.default=a.Container.create(C)},Q4CN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ue}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("Pp7T"),d=n.n(f),y=n("JPcv"),h=n("M39V"),b=n.n(h),g=n("TJ0u"),m=n("EKef"),v=n("xZ3h"),_=n("aXXi"),O=n("e0gr"),E=n("hl5+"),w=n("pbbw"),S=n("XSDi"),x=n("d7P5"),C=n("Ar8A"),k=n("vCdm"),j=n("bPAd"),P=n("okHn"),R=n("sScL"),T=n("4VoC"),I=n("fhZ6"),D=n("MCma"),z=n("s3Vt"),A=n("Sye6"),M=n("DvT9"),N=n("xVW7"),q=n("kMmm"),L=n("G5AB"),H=n("J3MI"),B=n("QR95"),X=n("W6Bt"),K=n("O5xL"),Y=n("3NuN"),G=n("KamX"),U=n("/TeS"),W=n("7EpH"),F=n("yMTd"),Z=n("WdyC"),V=n("vmwM");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return function(e){if(Array.isArray(e))return e}(e)||re(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function re(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var ie=navigator.platform.match("Mac"),ae=b.a.getParser(window.navigator.userAgent).isBrowser(b.a.BROWSER_MAP.ie),ue=Object(p.connect)((function(e){var t=e.get("conversations");return{commenting:t.commenting,hasOpenComment:!!t.openCommentKey,conversationsOpen:t.conversationsOpen}}),(function(e){return{toggleSnapping:function(){e({type:_.FLEX_EDITOR_GRID_TOGGLE_SNAP_OBJECTS})},toggleGuides:function(){e({type:_.FLEX_EDITOR_GRID_TOGGLE_GUIDES})},closeCommentMarker:function(){e({type:U.CONVERSATIONS_TOGGLE_MARKER})},closeCommenting:function(){e({type:U.CONVERSATIONS_TOGGLE_COMMENTING})},closeConversations:function(){e({type:U.CONVERSATIONS_CLOSE_SIDEBAR})},onZoom:function(t){e({type:E.EDITOR_ZOOM,payload:{direction:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")}})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=ee(t).call(this,e))||"object"!==Q(r)&&"function"!=typeof r?te(o):r).handleKeys=n.handleKeys.bind(te(n)),n.wrapper=c.a.createRef(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeys,!1),document.addEventListener("keyup",this.handleKeys,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeys,!1),document.removeEventListener("keyup",this.handleKeys,!1)}},{key:"handleKeys",value:function(e){var t=e.target,n=e.type;t!==document.body||ae&&("true"===t.contentEditable||"INPUT"===t.tagName||"TEXTAREA"===t.tagName)||("keyup"===n?this.handleKeyUp(e):"keydown"===n?this.handleKeyDown(e):d()(!1,"Unknown event type"))}},{key:"handleKeyDown",value:function(e){if(!O.ActiveTextEditorStore.editing&&"input"!==e.target.tagName.toLowerCase()){var t=ie?e.metaKey:e.ctrlKey,n=e.metaKey||e.ctrlKey||e.altKey,o=A.default.currentSelection,r=m.default.editorState,i=r.getEntities(o.getEntities()),u=i.every((function(e){return e.getLocked()})),c=A.default.boundingBox;switch(e.keyCode){case I.default.BACKSPACE:case I.default.DELETE:if(n)return;if(i.isEmpty()){if(!o.hasNoBlocks()&&r.getCurrentContent().getBlocks().size>1){var l=o.getBlocks().first(),s=r.getCurrentContent().getBlockIndex(l)+1,p=r.getCurrentContent().getBlocks().size;Object(z.showConfirmDialog)({title:a.default.t("app.freelayout_editor.delete_page_dialog_title",{page_number:s}),description:a.default.t("app.freelayout_editor.delete_page_dialog_description"),button:a.default.t("delete")}).then((function(){Object(R.default)([l]),s===p&&Object(v.scrollToPage)(s-2)}))}}else{var f=r.getEntities(o.getEntities()),d=oe(Object(H.flattenEntities)(r,f).keys()).slice(0);Object(j.default)(d),f.every((function(e){return e.getCalloutKey()}))&&Object(M.updateSelectionState)(o.clear().addEntities(f.first().getCalloutKey()))}break;case I.default.DOWN_ARROW:if(t&&!e.altKey)Object(v.scrollToPage)(g.default.activePageIndex+1);else{if(n)return;if(u)return;ce(r,o.getEntities(),c,"top",e.shiftKey?10:1)}break;case I.default.UP_ARROW:if(t&&!e.altKey&&g.default.activePageIndex>0)Object(v.scrollToPage)(g.default.activePageIndex-1);else{if(n)return;if(u)return;ce(r,o.getEntities(),c,"top",e.shiftKey?-10:-1)}break;case I.default.LEFT_ARROW:if(i.isEmpty()||n||u)return;ce(r,o.getEntities(),c,"left",e.shiftKey?-10:-1);break;case I.default.RIGHT_ARROW:if(i.isEmpty()||n||u)return;ce(r,o.getEntities(),c,"left",e.shiftKey?10:1);break;case I.default.KEY_Z:if(t&&!e.altKey){e.shiftKey?Object(Y.redo)():Object(Y.undo)();break}return;case I.default.KEY_Y:if(t&&!e.altKey){Object(Y.redo)();break}return;case I.default.KEY_C:if(t&&e.shiftKey){Object(D.copyElementStyle)();break}if(t&&!e.altKey){Object(k.default)();break}if(n)return;Object(T.changeActiveHeader)("chart");break;case I.default.KEY_V:if(t&&e.shiftKey){Object(D.pasteElementStyle)();break}return void(t&&!e.altKey&&window.clipboardData&&Object(C.default)(window.clipboardData.getData("Text"),e));case I.default.KEY_D:if(t){if(!i.isEmpty()){var h=i.first().getBlockKey(),b=Object(x.default)(r,i);Object(S.default)(r,b,h);break}if(1===o.getBlocks().size){var _=o.getBlocks().first(),E=r.getCurrentContent().getBlockIndex(_);Object(G.default)(_,E+1,{scroll:!0});break}}return;case I.default.KEY_R:if(!i.size||n)return;if(N.default.pointerDown||i.first().locked)break;var L={type:"rotate",key:i.map((function(e){return e.getKey()})).join("-")},K=Object(H.flattenEntities)(r,i)||N.default.initialEntityPositions;L.blockRect=i.size?Object(F.getRelativeBlockRect)(K.first()):null,Object(q.default)(L,K,{x:-1,y:-1});break;case I.default.KEY_I:if(n)return;Object(T.changeActiveHeader)("image");break;case I.default.KEY_X:if(!t||i.isEmpty())break;Object(k.default)();var U=oe(Object(H.flattenEntities)(r,i).keys()).slice(0);Object(j.default)(U);break;case I.default.KEY_G:if(i.isEmpty()&&n)return;if(t&&e.shiftKey){var Q,$=Object(y.Set)(),ee=r,te=!0,ne=!1,re=void 0;try{for(var ae,ue=r.getEntities(o.getEntities()).values()[Symbol.iterator]();!(te=(ae=ue.next()).done);te=!0){var le=ae.value;if(!le.getLocked())if(le.isGroup()){var se=Object(X.default)(ee,le.getKey()),pe=se.editorState,fe=se.entityKeys;$=$.union(fe),ee=pe}else $.add(le.key)}}catch(e){ne=!0,re=e}finally{try{te||null==ue.return||ue.return()}finally{if(ne)throw re}}$.isEmpty()||(Object(w.default)(ee),Object(M.updateSelectionState)((Q=o.clear()).addEntities.apply(Q,J($))))}else if(t&&i.size>1){var de=Object(B.default)(r,o.getEntities()),ye=de.editorState,he=de.entityKey;Object(w.default)(ye),Object(M.updateSelectionState)(o.clear().addEntities(he))}else{if(n)return;this.props.toggleSnapping()}break;case I.default.KEY_L:if(n)return;this.props.toggleGuides();break;case I.default.KEY_T:if(n)return;Object(T.changeActiveHeader)("text");break;case I.default.KEY_S:if(n)return;Object(T.changeActiveHeader)("shape");break;case I.default.KEY_M:if(n)return;Object(T.changeActiveHeader)("map");break;case I.default.KEY_A:if(t){var be,ge=g.default.activePageIndex,me=r.getCurrentContent().getBlocks().get(ge),ve=[];me.getEntities().forEach((function(e){e.locked||e.getGroupKey()||e.getCalloutKey()||ve.push(e.getKey())}));var _e=(be=o.clear()).addEntities.apply(be,ve);Object(M.updateSelectionState)(_e)}break;case I.default.OPEN_BRACKET:t&&!i.isEmpty()&&Object(w.default)(P.sendToBack.apply(void 0,[m.default.editorState].concat(J(o.getEntities()))));break;case I.default.CLOSE_BRACKET:t&&!i.isEmpty()&&Object(w.default)(P.bringToFront.apply(void 0,[m.default.editorState].concat(J(o.getEntities()))));break;case I.default.SPACE:if(n)return;!N.default.navigating&&Object(W.default)();break;case I.default.ESCAPE:if(n)return;this.props.commenting?(this.props.closeCommentMarker(),this.props.closeCommenting()):this.props.hasOpenComment?this.props.closeCommentMarker():this.props.conversationsOpen?this.props.closeConversations():V.default.activeType&&Object(Z.stopClipping)();break;case I.default.ENTER:if(n)return;V.default.activeType&&Object(Z.stopClipping)();break;case I.default.DASH:t&&this.props.onZoom(-1);break;case I.default.EQUALS:t&&this.props.onZoom(1);break;default:return}e.stopPropagation(),e.preventDefault()}}},{key:"handleKeyUp",value:function(e){switch(e.keyCode){case I.default.KEY_R:case I.default.SPACE:Object(L.default)()}}},{key:"render",value:function(){return null}}])&&$(n.prototype,o),r&&$(n,r),t}(u.PureComponent),r.propTypes={toggleSnapping:s.a.func.isRequired,toggleGuides:s.a.func.isRequired,commenting:s.a.bool.isRequired,hasOpenComment:s.a.bool.isRequired,conversationsOpen:s.a.bool.isRequired,closeCommentMarker:s.a.func.isRequired,closeCommenting:s.a.func.isRequired,closeConversations:s.a.func.isRequired,onZoom:s.a.func.isRequired},o=i))||o;function ce(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;d()("top"===o||"left"===o,"Entities can't be moved in ".concat(o," direction, valid directions are top, left")),"string"==typeof t.first()&&(t=e.getEntities(t));var i=Object(H.flattenEntities)(e,t).keys(),a=oe(i),u=a.slice(0);"top"===o?e=e.moveEntitiesBy(u,0,r):"left"===o&&(e=e.moveEntitiesBy(u,r,0)),t.forEach((function(t){t.getGroupKey()&&(e=Object(K.default)(e,t,!0))})),Object(w.default)(e),t.size>1&&n&&(n=n.set(o,n.get(o)+r),Object(M.updateStaticBoundingBox)(n))}},QApq:function(e,t,n){"use strict";n.r(t);var o=n("tl4+");n.d(t,"default",(function(){return o.default}))},QW3c:function(e,t,n){"use strict";n.r(t);var o,r,i=n("q1tI"),a=n.n(i),u=n("Jgc/"),c=n("17x9"),l=n.n(c),s=n("Pp7T"),p=n.n(s),f=n("JPcv"),d=n("v83y"),y=n("TSYQ"),h=n.n(y),b=n("e0gr"),g=n("QLpA"),m=n("EKef"),v=n("s6sw"),_=n("xVW7"),O=n("XjPQ"),E=n("5pUS"),w=n("x0dF"),S=n.n(w);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=u.Container.create((r=o=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=C(t).call(this,e))||"object"!==x(r)&&"function"!=typeof r?k(o):r)._startEditingWithSelection=n._startEditingWithSelection.bind(k(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),P(t,null,[{key:"getStores",value:function(){return[b.ActiveTextEditorStore,m.default,_.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=t.design,r=n.getKey(),i=b.ActiveTextEditorStore.isEntityFocused(r),a=b.ActiveTextEditorStore.isEditingEntity(r),u=b.ActiveTextEditorStore.template,c={editing:a,focused:i,currentId:b.ActiveTextEditorStore.currentId,template:u,editorState:b.ActiveTextEditorStore.editorState,themeId:m.default.themeId,resizingWidth:_.default.activeHandle&&_.default.activeHandle.get("key")===n.key&&"resizeWidth"===_.default.activeHandle.get("type"),scaling:_.default.activeHandle&&_.default.activeHandle.get("key")===n.key&&"scaleText"===_.default.activeHandle.get("type")};if(!i&&!a){var l=t.entity;p()("TEXT"===l.type||"SHAPE"===l.type,"Entity must be of type TEXT/SHAPE, got "+l.type);var s=l.getProperty("content");e&&e.editorState&&o===e.currentDesign&&Object(f.is)(s,e.currentContent)?e.editorState&&(c.editorState=e.editorState):(c.editorState=Object(g.default)(Object(d.convertFromRaw)(s.toJS())),c.currentContent=s,c.currentDesign=o),c.template=l.getProperty("template")}return c}}]),P(t,[{key:"componentDidMount",value:function(){var e=this;this._currentWidth=this._rootElement.offsetWidth*this.props.entity.getProperty("scaleX"),this.props.resizeOnInit&&(this._frameToken=requestAnimationFrame((function(){e._updateEntitySize()})))}},{key:"componentDidUpdate",value:function(e,t){var n=this;(function(e,t,n,o){if("TEXT"!==e.entity.type)return!1;if(n.resizingWidth)return!0;if(!n.editorState)return!0;if(e.entity.getWidth()!==t.entity.getWidth())return!0;if(e.entity.getProperty("scaleX")!==t.entity.getProperty("scaleX")||e.entity.getProperty("scaleY")!==t.entity.getProperty("scaleY"))return!0;if(!o)return!0;var r=n.editorState,i=o.editorState;return!Object(f.is)(r.getCurrentContent(),i.getCurrentContent())})(this.props,e,this.state,t)&&(this._frameToken&&cancelAnimationFrame(this._frameToken),this._frameToken=requestAnimationFrame((function(){n._updateEntitySize(),n._frameToken=void 0})))}},{key:"componentWillUnmount",value:function(){this._frameToken&&cancelAnimationFrame(this._frameToken)}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.editorState,r=n.template,i=n.editing,u=n.focused;e=i&&u?a.a.createElement(b.default,{entityKey:this.props.entity.getKey(),design:this.props.design}):Object(b.renderReadOnly)(o,r,this.props.design);var c={};return i&&(c.cursor="text"),a.a.createElement("div",{onDoubleClick:this._startEditingWithSelection,ref:function(e){t._rootElement=e},className:h()(S.a.textEditorWrapper,i&&S.a.editing),style:c},e)}},{key:"_updateEntitySize",value:function(){var e=this.props.entity;if(this._rootElement){var t=this._rootElement.querySelector('[data-contents="true"]'),n=t.offsetWidth,o=t.offsetHeight,r=e.getWidth(),i=e.getProperty("scaleX"),a=this._rootElement.offsetWidth*i+2*E.SELECTOR_HORIZONTAL_PADDING;this.state.resizingWidth||this.state.scaling||a===this._currentWidth||(r=a),this._currentWidth=a;var u=o*e.getProperty("scaleY"),c=Object(O.getPositionOnSizeChange)({x:r-e.getWidth(),y:u-e.getHeight()},{left:e.getLeft(),top:e.getTop(),width:r,height:e.getHeight(),rotation:e.getTransform().rotate}),l=c.x,s=c.y;Math.round(l)===Math.round(e.getLeft())&&Math.round(s)===Math.round(e.getTop())&&Math.round(u)===Math.round(e.getHeight())||Object(v.default)(e.getKey(),{left:l,top:s,width:r,height:u,props:{scaleWidth:n,scaleHeight:o}})}}},{key:"_startEditingWithSelection",value:function(){if(!this.props.entity.locked&&!this.state.editing){for(var e,t,n,o,r=window.getSelection(),i=r.anchorNode,a=r.anchorOffset,u=r.focusNode,c=r.focusOffset,l=i;l;){if(1==l.nodeType&&l.hasAttribute("data-block")){t=l.getAttribute("data-offset-key").split("-")[0],l.classList.contains(b.textStyling.listItem)&&(l=l.querySelector("."+b.textStyling.listItemContents)),p()(!!l,"Cannot find node"),e=l;break}l=l.parentNode}if(e){var s=window.getSelection();s.removeAllRanges();var f=document.createRange();f.selectNode(e),s.addRange(f);var d=s.toString();s.removeAllRanges(),f.setEnd(i,a),s.addRange(f);var y=s.toString();s.removeAllRanges(),(f=document.createRange()).selectNode(e),f.setStart(u,c),s.addRange(f);var h=s.toString();s.removeAllRanges(),n=y.length,o=d.length-n-h.length}Object(b.beginEditing)(t,n,o,this.props.design)}}}]),t}(i.Component),o.propTypes={entity:l.a.shape({getKey:l.a.func.isRequired,getBlockKey:l.a.func.isRequired,getLeft:l.a.func.isRequired,getTop:l.a.func.isRequired,getWidth:l.a.func.isRequired,getHeight:l.a.func.isRequired,getType:l.a.func.isRequired,getProperty:l.a.func.isRequired,getTransform:l.a.func.isRequired,locked:l.a.bool}).isRequired,design:l.a.any.isRequired,resizeOnInit:l.a.bool},o.defaultProps={resizeOnInit:!1},r),{withProps:!0});t.default=T},QaFw:function(e,t,n){"use strict";n.r(t);var o=n("JPcv"),r=n("Jgc/"),i=n("Zcty"),a=n("EKef"),u=n("Sye6"),c=n("hl5+");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=e.getProperty("content");if(t&&t){var n=t.get("blocks").first();return{style:n.get("data"),inlineStyleRanges:n.get("inlineStyleRanges"),scaleX:e.getProperty("scaleX"),scaleY:e.getProperty("scaleY")}}}var v=new(function(e){function t(){return d(this,t),h(this,b(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"getInitialState",value:function(){return Object(o.fromJS)({styleClipboard:null})}},{key:"reduce",value:function(e,t){switch(t.type){case c.COPY_ELEMENT_STYLE:var n=a.default.editorState,o=u.default.currentSelection.getEntities().first(),r=n.getEntity(o);if(!r)return e;var i=r.getType(),l=null,s=r.props;switch(i){case"CHART":var f=r.getProperty("chartData").toJS(),d=f.sheets_settings||[];d.forEach((function(e){delete e.view})),delete(l={colors:f.colors,custom:f.custom,sheets_settings:d}).custom.map,delete l.custom.live;break;case"IMAGE":l={transform:r.transform,props:s};break;case"TEXT":l=p({props:{opacity:s.get("opacity")}},m(r));break;case"CONNECTOR":case"SHAPE":l=p({props:s},m(r));break;case"MEDIA":"video"===s.get("mediaType")&&(l={props:s})}return l.type=i,e.set("styleClipboard",l)}return e}},{key:"styleClipboard",get:function(){return this.getState().get("styleClipboard")}}])&&y(n.prototype,r),i&&y(n,i),t}(r.ReduceStore))(i.default);t.default=v},R8DA:function(e,t,n){var o=n("sEG9");(t=e.exports=n("I1BE")(!1)).push([e.i,"._2e1ukwJgSrgQjsvZr_Ql1N {\n     width: 4px;\n     height: 16px;\n     display: block;\n     position: absolute;\n     background: url("+o(n("yGHk"))+") no-repeat center center;\n     pointer-events: auto;\n }\n\n._3kmx70mf1fL3QxU5aAQU4z,\n._2v-E7zp455rPYELpRHxUSi {\n    left: 50%;\n    transform: rotate(90deg) translateX(-50%);\n}\n._3kmx70mf1fL3QxU5aAQU4z:hover,\n._2v-E7zp455rPYELpRHxUSi:hover,\n._3kmx70mf1fL3QxU5aAQU4z._1n8_-lJOYsF-6Qd31xZUfq,\n._2v-E7zp455rPYELpRHxUSi._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) translateX(-50%) scale(1.5);\n}\n\n._2qJ7IPZhc4hK6aQnTceZbx,\n._1NHwB4sjlyV39sO7_vUczR {\n    top: 50%;\n    transform: translateY(-50%);\n}\n._2qJ7IPZhc4hK6aQnTceZbx:hover,\n._1NHwB4sjlyV39sO7_vUczR:hover,\n._2qJ7IPZhc4hK6aQnTceZbx._1n8_-lJOYsF-6Qd31xZUfq,\n._1NHwB4sjlyV39sO7_vUczR._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._3kmx70mf1fL3QxU5aAQU4z {\n    top: -6px;\n    cursor: ns-resize;\n}\n._2v-E7zp455rPYELpRHxUSi {\n    bottom: -10px;\n    cursor: ns-resize;\n}\n._2qJ7IPZhc4hK6aQnTceZbx {\n    left: -2px;\n    cursor: ew-resize;\n}\n._1NHwB4sjlyV39sO7_vUczR {\n    right: -2px;\n    cursor: ew-resize;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe {\n    width: 10px;\n    height: 10px;\n    display: block;\n    position: absolute;\n    cursor: pointer;\n    pointer-events: auto;\n    background: url("+o(n("EKTl"))+") no-repeat center center;\n}\n\n.Ual2JhPJAsByzbiNr1Npv {\n    top: -2px;\n    left: -2px;\n    transform: rotate(90deg);\n    cursor: nwse-resize;\n}\n.Ual2JhPJAsByzbiNr1Npv:hover, .Ual2JhPJAsByzbiNr1Npv._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) scale(1.5) translate(1px, -1px);\n}\n\n._3y7UVk0T-fRvN5kQ5BPasn {\n    top: -2px;\n    right: -2px;\n    transform: rotate(180deg);\n    cursor: nesw-resize;\n}\n._3y7UVk0T-fRvN5kQ5BPasn:hover, ._3y7UVk0T-fRvN5kQ5BPasn._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(180deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Cdd86nBkd-22Mo-CpgMNx {\n    bottom: -2px;\n    right: -2px;\n    transform: rotate(270deg);\n    cursor: nwse-resize;\n}\n._2Cdd86nBkd-22Mo-CpgMNx:hover, ._2Cdd86nBkd-22Mo-CpgMNx._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(270deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Dv7RZw0GkQknELEROlc5x {\n    bottom: -2px;\n    left: -2px;\n    cursor: nesw-resize;\n}\n._2Dv7RZw0GkQknELEROlc5x:hover, ._2Dv7RZw0GkQknELEROlc5x._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: scale(1.5) translate(1px, -1px);\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N,\n._1-7YjYFlnWk7REKu-C4DAe {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={sideHandle:"_2e1ukwJgSrgQjsvZr_Ql1N",n:"_3kmx70mf1fL3QxU5aAQU4z",s:"_2v-E7zp455rPYELpRHxUSi",selected:"_1n8_-lJOYsF-6Qd31xZUfq",w:"_2qJ7IPZhc4hK6aQnTceZbx",e:"_1NHwB4sjlyV39sO7_vUczR",cornerHandle:"_1-7YjYFlnWk7REKu-C4DAe",nw:"Ual2JhPJAsByzbiNr1Npv",ne:"_3y7UVk0T-fRvN5kQ5BPasn",se:"_2Cdd86nBkd-22Mo-CpgMNx",sw:"_2Dv7RZw0GkQknELEROlc5x"}},R9oZ:function(e,t,n){"use strict";n.r(t),n.d(t,"hue",(function(){return i}));var o=n("Caa3");function r(e,t){return function(n){return e+n*t}}function i(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(o.default)(isNaN(e)?t:e)}t.default=function(e,t){var n=t-e;return n?r(e,n):Object(o.default)(isNaN(e)?t:e)}},RZ7o:function(e,t,n){"use strict";n.r(t);var o=n("haA1");n.d(t,"default",(function(){return o.default}))},Rz4B:function(e,t,n){e.exports=n.p+"1C6dBxwJtS0L_7Oe8fzB1r.svg"},SUR1:function(e,t,n){"use strict";n.r(t);var o=n("7pL7");n.d(t,"hsv",(function(){return o.default}));var r=n("lORu");n.d(t,"interpolateHsv",(function(){return r.default})),n.d(t,"interpolateHsvLong",(function(){return r.hsvLong}))},T9bt:function(e,t,n){"use strict";n.r(t);var o=n("4Zd/");n.d(t,"default",(function(){return o.default}))},TAoN:function(e,t,n){e.exports=n.p+"31sKYmVFvMpzxFfsUn6eAo.svg"},TKOg:function(e,t,n){"use strict";n.r(t),n.d(t,"Saturation",(function(){return O}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("LvDl"),l=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e,t,n){var o=n.getBoundingClientRect(),r=o.width,i=o.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=u-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>r&&(c=r),l<0?l=0:l>i&&(l=i);var s=Math.round(c/r*100)/100,p=Math.round(100*(1-l/i))/100;return{h:t.h,s:s,v:p}},g=u.default.div.attrs((function(e){var t=e.hsv;return{style:{background:"hsl(".concat(t.h,", 100%, 50%)")}}})).withConfig({displayName:"Saturationreact__SaturationRoot",componentId:"r5hnj5-0"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;"]),m=u.default.div.withConfig({displayName:"Saturationreact__SaturationWhite",componentId:"r5hnj5-1"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;background:-webkit-linear-gradient(to right,#fff,rgba(255,255,255,0));background:linear-gradient(to right,#fff,rgba(255,255,255,0));"]),v=u.default.div.withConfig({displayName:"Saturationreact__SaturationBlack",componentId:"r5hnj5-2"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;background:-webkit-linear-gradient(to top,#000,rgba(0,0,0,0));background:linear-gradient(to top,#000,rgba(0,0,0,0));"]),_=u.default.div.attrs((function(e){var t=e.hsv;return{style:{top:"".concat(-100*t.v+100,"%"),left:"".concat(100*t.s,"%")}}})).withConfig({displayName:"Saturationreact__Pointer",componentId:"r5hnj5-3"})(["position:absolute;cursor:default;"]),O=function(e){function t(){var e,n;p(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=d(this,(e=y(t)).call.apply(e,[this].concat(i))))._container=r.a.createRef(),n._throttle=l.a.throttle((function(e,t,n){e(t,n)}),50),n.handleChange=function(e){e.preventDefault(),n._throttle(n.props.onChange,b(e,n.props.hsv,n._container.current),e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props.hsv;return r.a.createElement(g,{ref:this._container,hsv:e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.a.createElement(m,null,r.a.createElement(v,null),r.a.createElement(_,{hsv:e},this.props.children)))}}])&&f(n.prototype,o),i&&f(n,i),t}(o.PureComponent);O.propTypes={hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired},t.default=O},Tadz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("/MKj"),l=n("17x9"),s=n.n(l),p=n("eqw4"),f=n("ySsV"),d=n("Mzex"),y=n("832M"),h=n("Pwhp"),b=n("NI0h"),g=n("rQKZ"),m=n("aXXi"),v=n("v8xS");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}var k=Object(c.connect)((function(e){return{shouldShowRevisions:e.getIn(["revisions","shouldShowRevisions"])}}),(function(e){return{openProject:(t=regeneratorRuntime.mark((function t(n,o,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.loadTemplate)(o);case 2:e({type:m.FLEX_EDITOR_OPEN_PROJECT,payload:{projectId:n,options:r,useBackboneModel:!0}});case 3:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){C(i,o,r,a,u,"next",e)}function u(e){C(i,o,r,a,u,"throw",e)}a(void 0)}))},function(e,t,o){return n.apply(this,arguments)}),closeProject:function(t){e({type:m.FLEX_EDITOR_CLOSE_PROJECT,payload:{projectId:t}})}};var t,n}))(o=Object(g.default)()((i=r=function(e){function t(){return O(this,t),w(this,S(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[p.default,f.default]}},{key:"calculateState",value:function(){return{shouldPresent:p.default.isFullscreen,projectId:f.default.infographicId,flexTemplateId:f.default.flexTemplateId}}}],(o=[{key:"componentDidMount",value:function(){this.props.openProject(this.state.projectId,this.state.flexTemplateId,this.props.options)}},{key:"componentWillUnmount",value:function(){this.props.closeProject(this.state.projectId)}},{key:"render",value:function(){return this.state.shouldPresent?u.a.createElement(y.default,null):this.props.shouldShowRevisions?u.a.createElement(b.default,null):u.a.createElement(d.default,{toolbar:u.a.createElement(h.default,null)})}}])&&E(n.prototype,o),r&&E(n,r),t}(a.Component),r.propTypes={shouldShowRevisions:s.a.bool.isRequired,openProject:s.a.func.isRequired,closeProject:s.a.func.isRequired,options:s.a.object},o=i))||o)||o},Vbgj:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2smj4bBiUXTEYciM8BasJD .public-DraftEditor-content {\n    -webkit-user-select: none !important;\n    -moz-user-select: none !important;\n    -ms-user-select: none !important;\n    user-select: none !important;\n}\n\n._2smj4bBiUXTEYciM8BasJD._38GroWGyJAuMPsSILJXTvX .public-DraftEditor-content {\n    -webkit-user-select: text !important;\n    -moz-user-select: text !important;\n    -ms-user-select: text !important;\n    user-select: text !important;\n}\n",""]),t.locals={textEditorWrapper:"_2smj4bBiUXTEYciM8BasJD",editing:"_38GroWGyJAuMPsSILJXTvX"}},W0Zp:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),p=n.n(s),f=n("vmwM"),d=n("avnT"),y=n("WdyC"),h=n("XjPQ"),b=n("fJPJ"),g=n.n(b),m=n("qLhN"),v=n.n(m),_=n("Mp8E"),O=n("zkXd"),E=n("PXfb"),w=n.n(E);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=j(t).call(this,e),(n=!r||"object"!==S(r)&&"function"!=typeof r?P(o):r)._onResizeStart=n._onResizeStart.bind(P(n)),n._onRotateStart=n._onRotateStart.bind(P(n)),n._onHandleMove=n._onHandleMove.bind(P(n)),n._onHandleStop=n._onHandleStop.bind(P(n)),n._onDragStart=n._onDragStart.bind(P(n)),n._onDrag=n._onDrag.bind(P(n)),n._onDragStop=n._onDragStop.bind(P(n)),n.onBackgroundDragStart=Object(O.createBackgroundDragHandler)({moveClip:y.moveImageMask,onStart:function(){return n.setState({draggingBackground:!0})},onEnd:function(){return n.setState({draggingBackground:!1})}}).bind(P(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),T(t,null,[{key:"getStores",value:function(){return[f.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=t.scaleX,r=t.scaleY,i=f.default.currentImageClip,a=i.get("boundingBox"),u={left:a.get("left")*n.getWidth()*o,top:a.get("top")*n.getHeight()*r,width:a.get("width")*n.getWidth()*o,height:a.get("height")*n.getHeight()*r};return{mask:i,maskDimensions:u,selectorDimensions:{left:u.left-30,top:u.top-30,width:u.width+60,height:u.height+60},entityDimensions:{width:n.getWidth()*o,height:n.getHeight()*r},transformOriginOffset:f.default.transformOriginOffset,rotationAvailable:!n.getCalloutKey(),backgroundDragEnabled:!n.getCalloutKey()}}}]),T(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(y.startClipResize)({startPoint:Object(h.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onRotateStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(y.startClipRotate)({startPoint:Object(h.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onHandleMove",value:function(e){e.stopPropagation(),Object(y.transformImageMask)(Object(h.Point)(e.clientX,e.clientY))}},{key:"_onHandleStop",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(y.startClipMove)({startPoint:Object(h.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(y.moveImageMask)(Object(h.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,o=n.mask,i=n.maskDimensions,a=n.selectorDimensions,u=n.entityDimensions,c=n.rotationAvailable,l=n.backgroundDragEnabled,s=C({transform:"rotate(".concat(o.get("rotate"),"deg)")},i),f=C({transform:"rotate(".concat(o.get("rotate"),"deg)")},a),y=t.getProperty("url").replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"),h={className:g.a.mask,style:s};return r.a.createElement("div",{className:g.a.container},r.a.createElement("img",{className:p()(g.a.background,(e={},k(e,g.a.draggableBackground,l),k(e,g.a.draggingBackground,this.state.draggingBackground),e)),src:y,onMouseDown:l?this.onBackgroundDragStart:void 0}),r.a.createElement(_.default,{id:t.getKey(),clip:o,type:"mask",src:y,width:u.width,height:u.height,maskProps:h,filters:t.getFilters(),editing:!0}),r.a.createElement("div",{className:g.a.selector,style:f},r.a.createElement("div",{className:g.a.dragHandle,onMouseDown:this._onDragStart}),c&&r.a.createElement("img",{onMouseDown:this._onRotateStart,className:v.a.rotationIcon,src:w.a}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.NW,className:p()(g.a.resizeHandle,g.a.nw,v.a.nw)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.NE,className:p()(g.a.resizeHandle,g.a.ne,v.a.ne)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.SE,className:p()(g.a.resizeHandle,g.a.se,v.a.se)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.SW,className:p()(g.a.resizeHandle,g.a.sw,v.a.sw)})))}}]),t}(r.a.Component);D.propTypes={entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=l.Container.create(D,{withProps:!0})},W1yj:function(e,t,n){e.exports=n.p+"3i49XHTp6uO3Tmc5RgbXtf.svg"},X7Jj:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("z3Ib"),f=n("B6Rb"),d=n("ZgL/"),y=n("30eB"),h=n.n(y);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,v(t).call(this,e)))._refs={},n._handlers={resize:n._assignHandler("resize"),resizeSide:n._assignHandler("resizeSide"),resizeWidth:n._assignHandler("resizeWidth"),scaleText:n._assignHandler("scaleText"),select:n._assignHandler("select_entity")},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?d.default.addHandler(n,e,t.props.entity.getKey()):t._refs[e]&&d.default.removeHandler(t._refs[e],e,t.props.entity.getKey()),t._refs[e]=n}}},{key:"render",value:function(){var e,t,n,o=this.props,i=o.entity,a=o.width,u=o.height,c=o.selected,l=o.resizing,d=o.dragging,y=o.hovered,b=l||d,g=Object(f.getOverlayMode)(i),m=s()(h.a.overlayBorder,(e={},t=h.a.solid,n=c||!b&&y,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return r.a.createElement("div",{className:h.a.overlay},r.a.createElement("div",{className:m,ref:this._handlers.select}),c&&!d&&r.a.createElement(p.default,{width:a,height:u,handlers:this._handlers,rotation:0,resizing:l,mode:g}))}}])&&g(n.prototype,o),i&&g(n,i),t}(o.PureComponent);O.propTypes={entity:c.a.record.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,selected:a.a.bool.isRequired,resizing:a.a.bool.isRequired,dragging:a.a.bool.isRequired,hovered:a.a.bool.isRequired}},XDYk:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return le}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("/MKj"),s=n("f+XQ"),p=n.n(s),f=n("17x9"),d=n.n(f),y=n("yb06"),h=n.n(y),b=n("bZl7"),g=n("nddH"),m=n("0GyG"),v=n("f2Xr"),_=n("okHn"),O=n("bPAd"),E=n("e0gr"),w=n("N0A1"),S=n("EKef"),x=n("QaFw"),C=n("Sye6"),k=n("/cUP"),j=n("pbbw"),P=n("MCma"),R=n("DvT9"),T=n("vCdm"),I=n("Ar8A"),D=n("XSDi"),z=n("d7P5"),A=n("qh0O"),M=n("J3MI"),N=n("QR95"),q=n("W6Bt"),L=n("ySsV"),H=n("1+J2"),B=n("aXXi"),X=n("pWQL"),K=n("6Bru");function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var V=navigator.platform.match("Mac");function Q(){A.lockEntities.apply(void 0,[S.default.editorState].concat(Z(C.default.currentSelection.getEntities())))}function J(){A.unlockEntities.apply(void 0,[S.default.editorState].concat(Z(C.default.currentSelection.getEntities())))}function $(){var e=S.default.editorState,t=e.getEntities(C.default.currentSelection.getEntities()),n=t.first().getBlockKey(),o=Object(z.default)(e,t);Object(D.default)(e,o,n)}function ee(){var e=S.default.editorState.getEntities(C.default.currentSelection.getEntities()),t=Z(Object(M.flattenEntities)(S.default.editorState,e).keys());Object(O.default)(t)}function te(){Object(j.default)(_.sendToBack.apply(void 0,[S.default.editorState].concat(Z(C.default.currentSelection.getEntities()))))}function ne(){Object(j.default)(_.bringToFront.apply(void 0,[S.default.editorState].concat(Z(C.default.currentSelection.getEntities()))))}function oe(){var e=C.default.currentSelection.getEntities(),t=Object(N.default)(S.default.editorState,e),n=t.editorState,o=t.entityKey;Object(j.default)(n),Object(R.updateSelectionState)(C.default.currentSelection.clear().addEntities(o)),Object(H.logAddObjectGroupWebJs)({project_id:L.default.infographicId,object_id:o})}function re(){var e,t=C.default.currentSelection.getEntities().first(),n=Object(q.default)(S.default.editorState,t),o=n.editorState,r=n.entityKeys;Object(j.default)(o),Object(R.updateSelectionState)((e=C.default.currentSelection.clear()).addEntities.apply(e,Z(r)))}function ie(e){Object(k.openEditContextMenuDownloadDropdown)(),e.stopPropagation(),e.preventDefault()}function ae(e){var t=e.currentTarget.getAttribute("data-type");if(!b.default.getCurrentProfile().pro)return Object(g.default)();var n=C.default.currentSelection.getEntities().first();Object(m.downloadItem)(t,"chart",n)}function ue(e){if(!b.default.getCurrentProfile().pro)return Object(g.default)();var t=e.currentTarget.getAttribute("data-type"),n=S.default.editorState.getEntities(C.default.currentSelection.getEntities()),o=Z(Object(M.flattenEntities)(S.default.editorState,n).keys()),r=Object(K.calculateBoundingBox)(n),i=n.first().getBlockKey();Object(m.downloadSelection)({selectionBounds:r,imageFormat:t,blockId:i,entityKeys:o})}function ce(e){p.a.paste().then((function(t){Object(I.default)(t,e)})).catch(v.default)}var le=Object(l.connect)((function(e){return{animationClipboard:e.get("animationClipboard")}}),(function(e){return{copyAnimation:function(t){e({type:B.SET_ANIMATION_CLIPBOARD,payload:{animation:t}})}}}))((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=U(t).call(this,e),(n=!r||"object"!==Y(r)&&"function"!=typeof r?W(o):r)._copyAnimation=function(){return n.props.copyAnimation(n.props.entity.getAnimation())},n._pasteAnimation=function(){S.default.editorState.getEntities([].concat(Z(C.default.currentSelection.getEntities()),[n.props.entity.key])).forEach((function(e){return Object(k.setEntityProperties)(e.getKey(),{animation:n.props.animationClipboard},{pushToUndoStack:!0})}))},n.handleClick=n.handleClick.bind(W(n)),n._addComment=n._addComment.bind(W(n)),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%",height:"100%"},onContextMenu:this.handleClick},this.props.children)}},{key:"_addComment",value:function(){var e=this.props.entity;this.props.onAddComment(e.getBlockKey(),e,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,mouseX:w.default.positionX,mouseY:w.default.positionY})}},{key:"handleClick",value:function(e){var t=E.ActiveTextEditorStore.currentId,n=E.ActiveTextEditorStore.editing,o=C.default.currentSelection;if(n&&o.containsEntity(t))e.stopPropagation();else{e.preventDefault(),e.stopPropagation();var r,i=this.props.entity,u=S.default.editorState.getEntities([].concat(Z(C.default.currentSelection.getEntities()),[i.key])),c=u.first().type,l=u.every((function(e){return e.locked})),s=u.every((function(e){return!e.locked})),p=this.props.commentingIsAvailable&&this.props.onAddComment,f=[{name:a.default.t("app.editor_context_menu.copy"),onClick:T.default,shortcut:V?"⌘C":"Ctrl+C"},{name:a.default.t("app.editor_context_menu.paste"),onClick:ce,shortcut:V?"⌘V":"Ctrl+V"},{name:a.default.t("app.editor_context_menu.moveToFront"),onClick:ne,shortcut:V?"⌘]":"Ctrl+]"},{name:a.default.t("app.editor_context_menu.moveToBack"),onClick:te,shortcut:V?"⌘[":"Ctrl+["},{name:a.default.t("app.editor_context_menu.duplicate"),onClick:$,shortcut:V?"⌘D":"Ctrl+D"}];1===u.size&&"GROUP"!==c&&f.push({name:a.default.t("app.editor_context_menu.copyStyle"),onClick:P.copyElementStyle,shortcut:V?"Shift⌘C":"Shift+Ctrl+C"}),x.default.styleClipboard&&function(e,t){return e.some((function(e){return e.type===t}))}(u,x.default.styleClipboard.type)&&f.push({name:a.default.t("app.editor_context_menu.pasteStyle"),onClick:P.pasteElementStyle,shortcut:V?"Shift⌘V":"Shift+Ctrl+V"}),!i.getAnimation()||1!==u.size&&"GROUP"===c||f.push({name:a.default.t("app.editor_context_menu.copyAnimation"),onClick:this._copyAnimation}),this.props.animationClipboard&&s&&f.push({name:a.default.t("app.editor_context_menu.pasteAnimation"),onClick:this._pasteAnimation}),u.size>1&&f.push({name:a.default.t("app.editor_context_menu.group"),onClick:oe,shortcut:V?"⌘G":"Ctrl+G"}),1===u.size&&"GROUP"===c&&f.push({name:a.default.t("app.editor_context_menu.ungroup"),onClick:re,shortcut:V?"⇧⌘G":"⇧+Ctrl+G"}),l||f.push({name:a.default.t("app.editor_context_menu.lock"),onClick:Q}),s||f.push({name:a.default.t("app.editor_context_menu.unlock"),onClick:J}),u.size&&f.push({name:a.default.t("app.editor_context_menu.exportAs"),onClick:ie,download:!0}),1===u.size&&"CHART"===c?(r=[{name:a.default.t("app.editor_context_menu.pngImage"),onClick:ae,type:"png"},{name:a.default.t("app.editor_context_menu.jpgImage"),onClick:ae,type:"jpg"},{name:a.default.t("app.editor_context_menu.pdfVectorImage"),onClick:ae,type:"pdf"}],!1===i.isChart(X.BAR_RACE)&&r.push({name:a.default.t("app.editor_context_menu.animatedGif"),onClick:ae,type:"gif"})):r=[{name:a.default.t("app.editor_context_menu.pngImage"),onClick:ue,type:"png"},{name:a.default.t("app.editor_context_menu.jpgImage"),onClick:ue,type:"jpg"},{name:a.default.t("app.editor_context_menu.pdfVectorImage"),onClick:ue,type:"pdf"}],p&&f.push({name:a.default.t("app.editor_context_menu.addComment"),onClick:this._addComment}),f.push({name:a.default.t("app.editor_context_menu.delete"),onClick:ee,shortcut:V?"⌫":"Del",delete:!0}),f[f.length-2].separator=!0,Object(k.openEditContextMenu)(f,r,{x:e.nativeEvent.pageX,y:e.nativeEvent.pageY})}}}])&&G(n.prototype,o),r&&G(n,r),t}(u.PureComponent),r.propTypes={children:d.a.node,entity:d.a.object,scaleX:d.a.number,scaleY:d.a.number,commentingIsAvailable:d.a.bool,onAddComment:d.a.func,copyAnimation:d.a.func,animationClipboard:h.a.mapContains({duration:d.a.number,startAt:d.a.number,endAt:d.a.number,regime:d.a.string,name:d.a.string})},o=i))||o},YNSi:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("pbbw"),y=n("EKef"),h=n("8Pz5"),b=n("1GB4"),g=n("vmwM"),m=n("rQKZ"),v=n("5ERT"),_=n("AWSl"),O=n("f4JI"),E=n("0ENQ"),w=n("U+ZW"),S=n("gnXf"),x=n("5I7P");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(f.connect)((function(e,t){var n,o,r,i,a,u=t.block,c=t.pageSize,l=t.scaleX,s=t.scaleY,p=e.get("calloutEdit"),f=p.entityKey&&u.getKey()===p.blockKey?u.getEntity(p.entityKey):void 0;if(f&&f.getCallout()){if(r=f.getCallout(),n=p.get("calloutOpen")){o=u.getEntitiesByKeys(r.get("entities"),{orderByKeys:!0}),i=Object(_.default)(r,c,{scaleX:l,scaleY:s});var d="overlay"===r.get("type");a=Object(O.default)(r.get("position"),r.get("width"),r.get("height"),{entityBounds:f.bounds(),isOverlay:d,pageSize:c,scaleX:l,scaleY:s,calloutScale:i})}}else f=void 0;return{entity:f,callout:r,calloutOpen:n,calloutEntities:o,calloutScale:i,calloutBounds:a}}),(function(e){return{onToggleCallout:function(t){e({type:E.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("calloutEdit")===t.get("calloutEdit")},areStatePropsEqual:function(e,t){return e.entity===t.entity&&e.callout===t.callout&&e.calloutOpen===t.calloutOpen&&e.calloutEntities===t.calloutEntities&&e.calloutScale===t.calloutScale&&e.calloutBounds===t.calloutBounds}})(o=Object(m.default)({withProps:!0})((i=r=function(e){function t(){var e,n;j(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=R(this,(e=T(t)).call.apply(e,[this].concat(r)))).state={hoveredTimerId:void 0,hoveredEntity:void 0},n._showPreview=function(e){var t=n.state.hoveredTimerId;t&&(clearTimeout(t),t=void 0),n.setState({hoveredEntity:e,hoveredTimerId:t})},n._clearHidePreviewTimer=function(){n.state.hoveredTimerId&&(clearTimeout(n.state.hoveredTimerId),n.setState({hoveredTimerId:void 0}))},n._hidePreviewOnTimeout=function(){var e=setTimeout((function(){n.setState({hoveredEntity:void 0,hoveredTimerId:void 0})}),w.CALLOUT_HIDE_DELAY);n.setState({hoveredTimerId:e})},n._hidePreview=function(){n.state.hoveredTimerId&&clearTimeout(n.state.hoveredTimerId),n.setState({hoveredTimerId:void 0,hoveredEntity:void 0})},n._closeCallout=function(){n.props.entity&&n.props.calloutOpen&&n.props.onToggleCallout(n.props.entity)},n._updateEntity=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(d.default)(y.default.editorState.setEntity(e,t,n))},n._updateCallout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.pushToUndoStack,i=void 0!==r&&r,a=o.entityOverrides;if(n.state.entityKey){var u=y.default.editorState;i&&(u=h.default.push(u,u.getCurrentContent())),e&&(u=u.setEntity(n.state.entityKey,{props:{callout:e}})),Object.keys(t).forEach((function(e){u=u.setEntity(e,t[e])})),Object(d.default)(u,{entityOverrides:a})}},n._selectEntity=function(e){n.props.onSelectionChange(b.default.singleItem(e.getKey()))},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[g.default]}},{key:"calculateState",value:function(e,t){return{entityIsBeingClipped:g.default.activeType&&t.entity&&t.entity.key===g.default.activeEntityKey}}}],(o=[{key:"componentDidUpdate",value:function(e){if(this.props.entity!==e.entity||this.props.hoveredEntity!==e.hoveredEntity){var t=this.props.hoveredEntity,n=this.props.entity&&this.props.entity.getKey();t&&t!==e.hoveredEntity&&t.getCallout()&&t.getKey()!==n?this._showPreview(t):this.state.hoveredEntity&&this.state.hoveredEntity.getKey()===n?this._hidePreview():e.hoveredEntity&&this.state.hoveredEntity===e.hoveredEntity&&this._hidePreviewOnTimeout()}}},{key:"componentDidMount",value:function(){Object(v.default)(this.props.block)}},{key:"componentWillUnmount",value:function(){this.state.hoveredTimerId&&clearTimeout(this.state.hoveredTimerId)}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.callout,o=e.calloutOpen,r=e.calloutEntities,i=e.calloutBounds,a=e.calloutScale,c=e.scaleX,l=e.scaleY,s=this.state,p=s.hoveredEntity,f=s.entityIsBeingClipped;return u.a.createElement(u.a.Fragment,null,n&&o&&!f&&u.a.createElement(S.default,k({key:t.getKey(),entity:t,design:this.props.design,callout:n,calloutEntities:r,bounds:i,selectedEntities:this.props.selectedEntities,onEntityMouseDown:this.props.onEntityMouseDown,onEntityMouseUp:this.props.onEntityMouseUp,onEntityChange:this._updateEntity,onChange:this._updateCallout,onClose:this._closeCallout},a)),n&&!o&&!f&&u.a.createElement(x.default,{entity:t,entityBounds:t.bounds(),callout:n,scaleX:c,scaleY:l,onToggleCallout:this.props.onToggleCallout}),p&&u.a.createElement(x.default,{entity:p,entityBounds:p.bounds(),callout:p.getCallout(),scaleX:c,scaleY:l,onToggleCallout:this._selectEntity,onMouseLeave:this._hidePreviewOnTimeout,onMouseEnter:this._clearHidePreviewTimer}))}}])&&P(n.prototype,o),r&&P(n,r),t}(a.Component),r.propTypes={design:p.a.map.isRequired,block:p.a.record.isRequired,selectedEntities:p.a.set,hoveredEntity:p.a.record,scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,pageSize:l.a.shape({width:l.a.number.isRequired,height:l.a.number.isRequired}).isRequired,onEntityMouseDown:l.a.func.isRequired,onEntityMouseUp:l.a.func.isRequired,entity:p.a.record,callout:p.a.map,calloutOpen:l.a.bool,calloutEntities:p.a.list,calloutScale:l.a.shape({scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired}),calloutBounds:l.a.shape({top:l.a.string.isRequired,left:l.a.string.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired}),onToggleCallout:l.a.func.isRequired,onSelectionChange:l.a.func.isRequired},o=i))||o)||o},YP07:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("rQKZ"),d=n("vmwM"),y=n("ZgL/"),h=n("xVW7"),b=n("MYRr"),g=n("30eB"),m=n.n(g);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=Object(f.default)()((i=r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,O(t).call(this,e)))._refs={},n._handlers={resize:n._assignHandler("callout"),resizeSide:n._assignHandler("callout"),select:n._assignHandler("select_entity")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),w(t,null,[{key:"getStores",value:function(){return[d.default,h.default]}},{key:"calculateState",value:function(){return{clipping:!!d.default.activeType,dragging:h.default.dragging,resizing:h.default.resizing}}}]),w(t,[{key:"_assignHandler",value:function(e){var t=this;return function(n,o){var r=o?"".concat(e,"_").concat(o):e;n?y.default.addHandler(n,r,t.props.entityKey):t._refs[r]&&y.default.removeHandler(t._refs[r],r,t.props.entityKey),t._refs[r]=n}}},{key:"render",value:function(){var e=this.props,t=e.entities,n=e.callout,o=this.state,r=o.dragging,i=o.resizing,a=o.clipping,c=t.size>1||"TEXT"!==t.first().getType()||!n.get("fixedPaddings"),l="resize-".concat(this.props.entityKey,"-").concat(n.get("fixedPaddings"));return u.a.createElement("div",{className:m.a.calloutOverlay},u.a.createElement("div",{className:m.a.calloutOverlaySelect,ref:this._handlers.select}),!r&&!a&&u.a.createElement(b.default,{key:l,handlers:this._handlers,resizing:i,withVerticalResize:c}))}}]),t}(a.Component),r.propTypes={entityKey:l.a.string.isRequired,callout:p.a.map.isRequired,entities:p.a.list.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired,hovered:l.a.bool.isRequired,selected:l.a.bool.isRequired},o=i))||o},"Z+h/":function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("Jgc/"),f=n("vmwM"),d=n("Tha3"),y=n("hl5+"),h=n("xVW7"),b=n("/QJz"),g=n("W0Zp"),m=n("z3Ib"),v=n("4fFA"),_=n("avnT"),O=n("B6Rb"),E=n("hDjw"),w=n("qLhN"),S=n.n(w),x=n("PXfb"),C=n.n(x);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return j(this,t),R(this,T(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[f.default,h.default]}},{key:"calculateState",value:function(e,t){var n=h.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.entity.getKey(),isResizing:h.default.resizing,isDragging:h.default.dragging,clipping:f.default.activeEntityKey===t.entity.getKey()?f.default.activeType:null,mode:Object(O.getOverlayMode)(t.entity)}}}],(o=[{key:"render",value:function(){var e=this.props,t=e.handlers,n=e.hovered,o=e.selected,r=e.multiSelectionActive,u=e.entity,c=e.scaleX,l=e.scaleY,p=this.state,f=p.isRotating,h=p.isResizing,O=p.isDragging,w=p.clipping,x=p.mode,k=f||h||O,j=x===_.OVERLAY_MODES.CONNECTOR,P=u.getTransform().getRotate(),R=u.getProperty("crop"),T=u.getProperty("mask"),I=u.locked,D=w?u:Object(d.calculateClippedRectangle)(u),z={transform:"rotate(".concat(P||0,"deg)"),top:D.top*this.props.scaleY,left:D.left*this.props.scaleX,width:D.width*this.props.scaleX,height:D.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:O&&!w?.5:1};if(j&&(z.top=0,z.left=0,z.width="100%",z.height="100%"),w&&R){var A=R.get("left")+(100-R.get("left")-R.get("right"))/2,M=R.get("top")+(100-R.get("top")-R.get("bottom"))/2;z.transformOrigin="".concat(A,"% ").concat(M,"%")}else if(w&&T){var N=100*T.get("center").get("left"),q=100*T.get("center").get("top");z.transformOrigin="".concat(N,"% ").concat(q,"%")}var L={},H=0;T&&!w?(H=T.get("rotate"),L.transform="rotate(".concat(H,"deg)")):w&&(L.display="none");var B,X=P+H;w===y.IMAGE_CROP?B=a.a.createElement(b.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}):w===y.IMAGE_MASK&&(B=a.a.createElement(g.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}));var K,Y,G,U=s()(S.a.border,!I&&(o||!k&&n)&&S.a.solid,I&&(o||!k&&n)&&S.a.lockedSelected),W=x===_.OVERLAY_MODES.RECTANGLE||x===_.OVERLAY_MODES.TEXT,F=j&&r;return a.a.createElement("div",{style:z},B,a.a.createElement("div",{className:s()(!j&&S.a.selector),style:L},a.a.createElement("div",{className:s()((K={},Y=U,G=W,Y in K?Object.defineProperty(K,Y,{value:G,enumerable:!0,configurable:!0,writable:!0}):K[Y]=G,K)),ref:t.select}),x===_.OVERLAY_MODES.LINE&&(n&&!o&&!k||o&&I)&&a.a.createElement("div",{className:s()(S.a.lineHover,I&&S.a.lockedLine)}),F&&a.a.createElement(E.default,{entity:u,scaleX:c,scaleY:l,block:this.props.block,pageSize:this.props.pageSize,readOnly:!1,overlay:!0}),o&&!I&&!r&&!this.props.commenting&&a.a.createElement(i.Fragment,null,(f||!h)&&W&&a.a.createElement("img",{ref:t.rotate,className:S.a.rotationIcon,src:C.a}),!f&&!O&&a.a.createElement(i.Fragment,null,!j&&a.a.createElement(m.default,{isGroup:u.isGroup(),width:z.width,height:z.height,handlers:t,rotation:X,resizing:h,mode:x}),j&&a.a.createElement(v.default,{handlers:t,rotation:X,entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY,block:this.props.block,pageSize:this.props.pageSize})))))}}])&&P(n.prototype,o),r&&P(n,r),t}(i.Component);D.propTypes={entity:c.a.record.isRequired,scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,hovered:r.a.bool.isRequired,selected:r.a.bool.isRequired,handlers:r.a.object.isRequired,multiSelectionActive:r.a.bool,isClipping:r.a.bool,commenting:r.a.bool,block:r.a.any.isRequired,pageSize:r.a.shape({width:r.a.number.isRequired,height:r.a.number.isRequired})},t.default=p.Container.create(D,{withProps:!0})},ZGOS:function(e,t,n){var o=n("rRPG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},ZTyM:function(e,t,n){var o=n("wa9k");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},a42G:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var o,r,i,a=n("17x9"),u=n.n(a),c=n("q1tI"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("Sye6"),y=n("TJ0u"),h=n("rQKZ"),b=n("ZTyM"),g=n.n(b),m=n("xVW7"),v=n("XjPQ");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=["create-n","create-e","create-s","create-w"];var k=Object(f.connect)((function(e){return{mousePosition:e.get("mousePosition"),zoom:e.getIn(["editorZoom","zoom"])}}))(o=Object(h.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=O(t).call(this,e))||"object"!==_(r)&&"function"!=typeof r?E(o):r)._setRef=n._setRef.bind(E(n)),n._storePositions=n._storePositions.bind(E(n)),n._findActiveResize=n._findActiveResize.bind(E(n)),n._handleMouseDown=n._handleMouseDown.bind(E(n)),n._handleMouseUp=n._handleMouseUp.bind(E(n)),n._refs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),S(t,null,[{key:"getStores",value:function(){return[y.default,d.default,m.default]}},{key:"calculateState",value:function(e,t){var n=y.default.scrolling,o=t&&t.resizing,r=e&&e.positions,i=d.default.currentSelection,a=m.default.dragging,u=m.default.pointerMovedX,c=m.default.pointerMovedY,l=e&&e.selected;return e&&e.resizing&&!o&&(l=null),{positions:r,selected:l,scrolling:n,resizing:o,selection:i,dragX:u,dragY:c,dragging:a}}}]),S(t,[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){var n,o;(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.selection!==this.state.selection||t.dragging!==this.state.dragging||e.rotation!==this.props.rotation||(n=e.entityRect,o=this.props.entityRect,n.width!==o.width||n.height!==o.height||n.left!==o.left||n.top!==o.top))&&this._storePositions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.entityRect,o=t.zoom,r=this.props.rotation,i=this.state,a=i.selected,u=i.dragX,c=i.dragY,s=this._findActiveResize(),p=function(e,t){var n=function(e){var t=e.left,n=e.top,o=e.width,r=e.height;return{"create-n":{x:t+o/2,y:n},"create-e":{x:t+o,y:n+r/2},"create-s":{x:t+o/2,y:n+r},"create-w":{x:t,y:n+r/2}}}(e),o=Object(v.centerOf)(e),r=Object(v.rad)(Object(v.positiveDeg)(t));for(var i in n){var a=n[i],u=Object(v.Point)(0,0),c=1;switch(i){case"create-e":u.x=9;break;case"create-w":u.x-=26,c=-1;break;case"create-n":u.y-=26;break;case"create-s":u.y=9,c=-1}a.x+=u.x,a.y+=u.y;var l=Object(v.rotatePoint)(a,r,o),s=Object(v.Point)(l.x-o.x,l.y-o.y),p=Math.atan2(-s.x,s.y),f=Object(v.movePoint)(l,p,8*c);a.x=Math.round(f.x),a.y=Math.round(f.y)}return n}(n,r);return a&&null!==u&&(p[a].x=u*o+30-8,p[a].y=c*o+30-8,r=0),l.a.createElement("div",null,C.map((function(t){return l.a.createElement("div",{className:g.a.connectorCreateHandleWrapper,style:{left:p[t].x,top:p[t].y,transform:"rotate(".concat(r,"deg)")},key:t,ref:function(n){return e._setRef(t,n)},onMouseDown:function(){return e._handleMouseDown(t)},onMouseUp:e._handleMouseUp},l.a.createElement("div",{className:g.a.connectorCreateHandle,style:{transform:e._getTransform(t,s,a)}}))})))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,o=this.state,r=o.positions,i=o.selected;if(i)return{type:i,scale:1};var a=null;return!r||i||t||Object.keys(r).forEach((function(e){var t=r[e],o=t?Math.floor(Object(v.distance)(n,t)):1/0;(!a||o<a.distance)&&(a={type:e,distance:o})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>86)return 0;var t=.75*(99-e)/86+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getTransform",value:function(e,t,n){var o=0;return n===e&&(o=1),!n&&t&&t.type===e&&(o=t.scale),"scale(".concat(o,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var o=e._refs[n];t[n]=o?e._getPosition(o):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e,t){this.props.handlers.connectorCreate(t),this._refs[e]=t}},{key:"_handleMouseDown",value:function(e){this.setState({selected:e})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}]),t}(c.Component),r.propTypes={entityRect:u.a.object.isRequired,handlers:u.a.object.isRequired,rotation:u.a.number.isRequired,zoom:u.a.number.isRequired,resizing:u.a.bool.isRequired,mode:u.a.string.isRequired,mousePosition:p.a.contains({x:u.a.number.isRequired,y:u.a.number.isRequired})},o=i))||o)||o},akyC:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("Jgc/"),c=n("v83y"),l=n("6Aeb"),s=n("3aHx"),p=n("VEuB"),f=n("up6U"),d=n("QW3c"),y=n("e0gr");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function g(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){g(i,o,r,a,u,"next",e)}function u(e){g(i,o,r,a,u,"throw",e)}a(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=Object(f.default)((function(e,t,n){return r.a.createElement(d.default,{entity:e,design:t,contentWidth:n})})),x=function(e){function t(){var e,n;v(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=O(this,(e=E(t)).call.apply(e,[this].concat(r))))._onDoubleClick=m(regeneratorRuntime.mark((function e(){var t,o,r,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,o=t.entity,r=t.design,!o.locked){e.next=3;break}return e.abrupt("return");case 3:if(i=o.getProperty("content"),!o.canHaveText()||i){e.next=8;break}return e.next=7,Object(s.addTextToShape)(o.getKey());case 7:i=e.sent;case 8:n.state.isEditing||(a=Object(c.convertFromRaw)(i.toJS()),u=a.getFirstBlock(),Object(y.beginEditing)(u.getKey(),0,u.getLength(),r));case 9:case"end":return e.stop()}}),e)}))),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,i=[{key:"getStores",value:function(){return[p.default]}},{key:"calculateState",value:function(e,t){return{isEditing:p.default.isEditingEntity(t.entity.getKey())}}}],(o=[{key:"render",value:function(){var e=this.props.entity;return r.a.createElement("div",{onDoubleClick:this._onDoubleClick},r.a.createElement(l.default,b({},this.props,{isEditing:this.state.isEditing}),r.a.createElement(S,{scaleX:1,scaleY:1,entity:e,design:this.props.design,contentWidth:e.getWidth()})))}}])&&_(n.prototype,o),i&&_(n,i),t}(o.Component);x.propTypes={entity:a.a.shape({getProperty:a.a.func.isRequired,getKey:a.a.func.isRequired,canHaveText:a.a.func.isRequired,getWidth:a.a.func.isRequired,locked:a.a.bool}).isRequired,design:a.a.any.isRequired},x.state={},t.default=u.Container.create(x,{withProps:!0})},alRy:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("yMTd"),r=n("XjPQ");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=Object(o.getElementForBlock)(e).getBoundingClientRect(),s=Object(r.Point)(i-l.left,a-l.top);if(t){var p=function(e,t,n){var o=e.bounds();return Object(r.Rectangle)(o.left*t-.05*o.width*t,o.top*n-.05*o.height*n,o.width*t*1.1,o.height*n*1.1)}(t,u,c);(function(e,t){return e.x<t.left||e.x>t.left+t.width||e.y<t.top||e.y>t.top+t.height})(s,p)&&(s=function(e,t){var n=Object(r.Point)(t.left+t.width/2,t.top+t.height/2),o=(n.y-e.y)/(n.x-e.x),i=t.top+t.height,a=t.left+t.width;if(e.x<=n.x){var u=o*(t.left-e.x)+e.y;if(t.top<=u&&u<=i)return Object(r.Point)(t.left,u)}if(e.x>=n.x){var c=o*(a-e.x)+e.y;if(t.top<=c&&c<=i)return Object(r.Point)(a,c)}if(e.y<=n.y){var l=(t.top-e.y)/o+e.x;if(t.left<=l&&l<=a)return Object(r.Point)(l,t.top)}if(e.y>=n.y){var s=(i-e.y)/o+e.x;if(t.left<=s&&s<=a)return Object(r.Point)(s,i)}return e}(s,p));var f=t.getTransform().getRotate();if(0!==f){var d=Object(r.centerOf)(t.rectangle());d=Object(r.Point)(d.x*u,d.y*c),s=Object(r.rotatePoint)(s,-Object(r.rad)(f),d)}return s=Object(r.Point)(s.x/u-t.left,s.y/c-t.top),Object(r.Point)(s.x/t.width,s.y/t.height)}return Object(r.Point)(Math.max(0,Math.min(1,s.x/l.width)),Math.max(0,Math.min(1,s.y/l.height)))}},aojp:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var o=n("q1tI"),r=n.n(o),i=n("lfOy"),a=n("LyB2"),u=n("ywRP"),c=n.n(u);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return p(this,t),d(this,y(t).apply(this,arguments))}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement("div",{onDoubleClick:a.openDataTable,className:c.a.editableWrapper},r.a.createElement(i.default,s({},this.props,{editable:!0})))}}])&&f(n.prototype,o),u&&f(n,u),t}(o.PureComponent)},dGoc:function(e,t,n){var o=n("r5Ws");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},dcZU:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("Jgc/"),f=n("xVW7"),d=n("vmwM"),y=n("a42G"),h=n("avnT"),b=n("B6Rb"),g=n("qLhN"),m=n.n(g),v=n("Tha3");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(){return O(this,t),w(this,S(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[f.default,d.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=Object(b.getOverlayMode)(n),r=!(d.default.activeEntityKey!==n.getKey()||!d.default.activeType);return{isResizing:f.default.resizing,isDragging:f.default.dragging,mode:o,createHandlesVisible:!n.locked&&o===h.OVERLAY_MODES.RECTANGLE&&!r}}}],(o=[{key:"render",value:function(){var e=this.state,t=e.isResizing,n=e.isDragging,o=e.mode;if(!e.createHandlesVisible)return null;var r,i,u,c=this.props,l=c.handlers,p=c.entity,f=o===h.OVERLAY_MODES.RECTANGLE,d=Object(v.calculateClippedRectangle)(p),b=d.transform.rotate,g={top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",zIndex:2,opacity:n?.5:1},_={top:d.top*this.props.scaleY+30,left:d.left*this.props.scaleX+30,width:d.width*this.props.scaleX,height:d.height*this.props.scaleY};return p.getCallout()?null:a.a.createElement("div",{style:g},a.a.createElement("div",{className:s()((r={},i=m.a.selector,u=f,i in r?Object.defineProperty(r,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[i]=u,r))},a.a.createElement(y.default,{entityRect:_,handlers:l,rotation:b,resizing:t,mode:o})))}}])&&E(n.prototype,o),r&&E(n,r),t}(i.Component);C.propTypes={entity:c.a.record.isRequired,scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,handlers:r.a.object.isRequired},t.default=p.Container.create(C,{withProps:!0})},fJPJ:function(e,t,n){var o=n("D4ZG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},gedv:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'/* css reset */\nhtml, body, div, span, li, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, pre,\nabbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul,\nfieldset, form, label, legend, input,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    outline: none;\n}\n/* css reset */\n\n._2wzVtc1FcZh6DDCCzea2c6 {\n    text-align: center;\n    overflow: hidden;\n    font-size: 13px;\n    color: #FFF;\n    line-height: 1;\n}\n\nbutton {\n    color: #fff;\n    border: none;\n}\n\na {\n    text-decoration: none;\n    outline: none;\n}\n\n/* TODO there MUST be a better way how to achieve this without the universal selector */\n._3v-BsD2pN9CsE3xY-vj_Vy * {\n    cursor: wait !important\n}\n\n.__warning_visible .v99UC32i4ajEDHfh6XQ6Q {\n    top: 110px;\n}\n\n._1Y0uvPdIQprCfvVV3WO1_8,\n._1Y0uvPdIQprCfvVV3WO1_8 * {\n    -ms-user-select: none !important;\n    -moz-user-select: none !important;\n    -webkit-user-select: none !important;\n    user-select: none !important;\n}\n\n._1v6vksjPnkQrtsD1oka10a {\n    position: absolute;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n}\n\n._1v6vksjPnkQrtsD1oka10a [data-text="true"] {\n    font-family: inherit;\n    font-weight: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n}\n\n.Rqt9DC7oMrkIjO_leRcHZ .InfographicEditor-Contents-Block {\n    overflow: visible !important;\n}\n',""]),t.locals={editor:"_2wzVtc1FcZh6DDCCzea2c6",loading:"_3v-BsD2pN9CsE3xY-vj_Vy",contents:"v99UC32i4ajEDHfh6XQ6Q",__selecting:"_1Y0uvPdIQprCfvVV3WO1_8",offscreen:"_1v6vksjPnkQrtsD1oka10a",editingText:"Rqt9DC7oMrkIjO_leRcHZ"}},"gn/5":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("/TeS"),r=n("alRy");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=Object(r.default)(e,t,{mouseX:i,mouseY:a,scaleX:u,scaleY:c});return{type:o.CONVERSATIONS_NEW_MARKER,payload:{blockId:e,objectId:t&&t.getKey(),positionX:l.x,positionY:l.y}}}},gnXf:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("ZgL/"),f=n("yMTd"),d=n("864+"),y=n("MIJD"),h=n("YP07"),b=n("V1wf"),g=n("30eB"),m=n.n(g),v=n("kyW3"),_=n.n(v);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e,n;x(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=k(this,(e=j(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},n._refCallout=function(e){var t=n.props.entity.getKey();e?(Object(f.setElementForCallout)(t,e),p.default.addHandler(e,"select_entity",t),n._callout=e):(Object(f.removeElementForCallout)(t),p.default.removeHandler(n._callout,"select_entity",t),n._callout=null)},n._handleMouseDown=function(e){n._callout===e.target&&n.props.onEntityMouseDown&&n.props.onEntityMouseDown(n.props.entity,e)},n._handleMouseUp=function(e){n._callout===e.target&&n.props.onEntityMouseUp&&n.props.onEntityMouseUp(n.props.entity,e)},n._handleMouseEnter=function(e){n._callout!==e.target||n.state.hovered?n._callout!==e.target&&n.state.hovered&&n.setState({hovered:!1}):n.setState({hovered:!0})},n._handleMouseLeave=function(e){n._callout===e.target&&n.state.hovered&&n.setState({hovered:!1})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,o=t.callout,i=t.design,a=t.calloutEntities,u=t.scaleX,c=t.scaleY,l=t.bounds,p="overlay"===o.get("type"),f=Object(d.default)(o,i);return r.a.createElement("div",{className:s()(m.a.callout,m.a[o.get("alignment")],_.a[o.get("position")]),style:w({},f,{},l),ref:this._refCallout,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},a&&a.map((function(t){return r.a.createElement(y.default,{key:t.getKey(),entity:t,design:i,scaleX:u,scaleY:c,selected:e.props.selectedEntities.includes(t.getKey()),onMouseDown:e.props.onEntityMouseDown,onMouseUp:e.props.onEntityMouseUp})})),r.a.createElement(h.default,{entityKey:n.getKey(),callout:o,entities:a,width:l.width,height:l.height,hovered:this.state.hovered,selected:this.props.selectedEntities.first()===n.getKey()}),p&&r.a.createElement(b.default,{onClose:this.props.onClose}))}}])&&C(n.prototype,o),i&&C(n,i),t}(o.PureComponent);R.propTypes={entity:c.a.record.isRequired,callout:c.a.map.isRequired,calloutEntities:c.a.list,bounds:a.a.shape({top:a.a.string.isRequired,left:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,selectedEntities:c.a.set,design:c.a.map.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onEntityChange:a.a.func.isRequired,onEntityMouseDown:a.a.func.isRequired,onEntityMouseUp:a.a.func.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired}},gqLB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("6719");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e,n;l(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=p(this,(e=f(t)).call.apply(e,[this].concat(i)))).EditableGroup=function(){var e=n.props.entity,t={width:"".concat(e.getWidth(),"px"),height:"".concat(e.getHeight(),"px"),transform:"scale(".concat(n.props.scaleX,", ").concat(n.props.scaleY,")"),transformOrigin:"0 0"};return r.a.createElement("div",{style:t})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return this.props.readOnly?r.a.createElement(u.default,this.props):r.a.createElement(this.EditableGroup,null)}}])&&s(n.prototype,o),i&&s(n,i),t}(o.PureComponent);y.propTypes={entity:a.a.any.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,readOnly:a.a.bool}},h0S4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._14fds1zp4Ma7oI4rEDnhGT {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._3itQaNaHTNFtipKsYYg7oG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._1aOeiiOt3WygNFqvfCmBGX {\n    top: -24px;\n    right: -1px;\n    border-radius: 4px;\n    position: absolute;\n    color: white;\n    padding: 3px;\n    font-size: 12px;\n}\n\n.TcnmMDHaIbwLxPZx9J1Zl {\n    position: absolute;\n    pointer-events: none;\n    z-index: 1;\n}\n",""]),t.locals={container:"_14fds1zp4Ma7oI4rEDnhGT",border:"_3itQaNaHTNFtipKsYYg7oG",username:"_1aOeiiOt3WygNFqvfCmBGX",highlight:"TcnmMDHaIbwLxPZx9J1Zl"}},hBIi:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1cAw051LQZOw2_jdfCzStQ {\n    background-color: #38a86f;\n    height: 40px;\n    border-radius: 6px;\n    color: white;\n    font-size: 15px;\n    text-align: center;\n    line-height: 40px;\n    font-weight: 500;\n    margin-top: 10px;\n    margin-bottom: 20px;\n    cursor: pointer;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:hover {\n    background-color: #64b88d;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:after {\n  content: "";\n  display: block;\n  height: 20px;\n}\n',""]),t.locals={button:"_1cAw051LQZOw2_jdfCzStQ"}},haA1:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("k7+O"),f=n.n(p),d=n("17x9"),y=n.n(d),h=n("Jgc/"),b=n("/MKj"),g=n("vOnD"),m=n("EKef"),v=n("QApq"),_=n("ttbh"),O=n.n(_),E=n("Rh2K"),w=n("USB3");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=g.default.div.withConfig({displayName:"SideMenuSettingsreact__Separator",componentId:"sc-1558a5b-0"})(["height:2px;background-color:#2d2d2d;width:100%;margin:0px;",""],(function(e){return e.theme.id===w.default.id?"\n        display: none;\n    ":""})),D=g.default.div.withConfig({displayName:"SideMenuSettingsreact__LayoutButtonContainer",componentId:"sc-1558a5b-1"})(["position:relative;width:48px;height:48px;cursor:pointer;background-color:#656565;z-index:2;position:relative;",""],(function(e){return e.theme.id===w.default.id&&"\n        width: 50px;\n        height: 50px;\n        color: #374050;\n        background-color: unset;\n    "})),z=g.default.div.withConfig({displayName:"SideMenuSettingsreact__LayoutButton",componentId:"sc-1558a5b-2"})(["width:100%;height:100%;padding-top:10px;background-image:url(",");background-size:19px 19px;background-position:center 10px;background-repeat:no-repeat;font-size:9px;padding-top:30px;&:hover{background-color:#7d7d7d;}"," ",""],n("GnhQ"),(function(e){return e.active&&"\n        background-color: #7d7d7d;\n    "}),(function(e){return e.theme.id===w.default.id&&Object(g.css)(["background-image:url(",");font-family:",";&:hover{background-image:url(",");background-color:",";}",""],n("hfFo"),w.default.fonts.ralewayBold,n("hfFo"),w.default.neutral100,e.active&&"\n            background-image: url(".concat(n("GnhQ"),");\n            background-color: ").concat(w.default.blue400,";\n            color: ").concat(w.default.white,";\n\n            &:hover {\n                background-image: url(").concat(n("GnhQ"),");\n                background-color: ").concat(w.default.blue400,";\n            }\n        "))})),A=g.default.div.withConfig({displayName:"SideMenuSettingsreact__ZoomValue",componentId:"sc-1558a5b-3"})(["cursor:default;user-select:none;font-size:12px;font-weight:500;padding:18px 0;background:#2b2b2b;z-index:2;position:relative;",""],(function(e){return e.theme.id===w.default.id?"\n        background: #929AA3;\n    ":""})),M=g.default.div.withConfig({displayName:"SideMenuSettingsreact__AdvancedZoomSettings",componentId:"sc-1558a5b-4"})(["z-index:1;position:absolute;left:-260px;transition:left 0.25s;top:50px;background:#2b2b2b;width:180px;padding:9px 6px 11px 0;box-shadow:0px 10px 40px rgba(0,0,0,0.5);",""],(function(e){return e.theme.id===w.default.id?"\n        background: #929AA3;\n    ":""})),N=g.default.div.withConfig({displayName:"SideMenuSettingsreact__ZoomSeparator",componentId:"sc-1558a5b-5"})(["display:inline-block;background:#3C3C3C;width:2px;border-radius:1px;display:inline-flex;margin-left:10px;margin-right:10px;vertical-align:middle;height:30px;",""],(function(e){return e.theme.id===w.default.id?"\n        background: #FFFFFF;\n    ":""}));var q=Object(b.connect)((function(e){return{zoom:e.get("editorZoom").zoom}}),(function(e){return{toThumbnailsView:function(){e({type:E.ZOOM_SWITCH_TO_THUMBS_VIEW})},toSingleView:function(t){e({type:E.ZOOM_SWITCH_TO_SINGLE_VIEW,payload:t})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom}})(o=(0,h.Container.create)((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=k(t).call(this,e),(n=!r||"object"!==S(r)&&"function"!=typeof r?j(o):r).state={showLayoupPopup:!1,advancedSettingsPosition:{left:-200}},n._zoomIn=function(){n.props.toSingleView({subAction:"zoom",value:1})},n._zoomOut=function(){n.props.toSingleView({subAction:"zoom",value:-1})},n._zoomReset=function(){n.props.toSingleView({subAction:"scale",value:1})},n._onZoomHover=function(){n.setState({advancedSettingsPosition:{left:48}})},n._onZoomHoverEnd=function(){n.setState({advancedSettingsPosition:{left:-260}})},n._fillWidth=function(){n.props.toSingleView({subAction:"fullWidth"})},n._toggleFullScreen=function(){f.a.enabled&&f.a.toggle(),n._fillWidth()},n._toggleLayoutPopup=n._toggleLayoutPopup.bind(j(n)),n._closeLayoutPopupIfNeeded=n._closeLayoutPopupIfNeeded.bind(j(n)),n.layoutPopupElement=c.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),R(t,null,[{key:"getStores",value:function(){return[m.default]}},{key:"calculateState",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{thumbsViewDisabled:1===m.default.editorState.getCurrentContent().getBlocks().size})}}]),R(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._closeLayoutPopupIfNeeded)}},{key:"_closeLayoutPopupIfNeeded",value:function(e){this.layoutPopupElement.current&&!this.layoutPopupElement.current.contains(e.target)&&this.setState({showLayoupPopup:!1})}},{key:"_toggleLayoutPopup",value:function(){this.setState({showLayoupPopup:!this.state.showLayoupPopup})}},{key:"componentDidUpdate",value:function(){this.state.showLayoupPopup?document.addEventListener("click",this._closeLayoutPopupIfNeeded):document.removeEventListener("click",this._closeLayoutPopupIfNeeded)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(I,null),c.a.createElement(D,null,this.state.showLayoupPopup&&c.a.createElement("div",{className:O.a.layoutPopup,ref:this.layoutPopupElement},c.a.createElement(v.default,null)),c.a.createElement(z,{onClick:this._toggleLayoutPopup,active:this.state.showLayoupPopup,"data-tooltip":a.default.t("app.freelayout_editor.layout.buttonTooltip"),"data-tooltip-position":"right"},c.a.createElement("div",{className:O.a.buttonTitle},a.default.t("app.freelayout_editor.layout.buttonTitle")))),c.a.createElement(I,null),c.a.createElement("div",{onMouseEnter:this._onZoomHover,onMouseLeave:this._onZoomHoverEnd},c.a.createElement(A,{onDoubleClick:this._zoomReset},"".concat(Math.round(100*this.props.zoom),"%")),c.a.createElement(M,{style:this.state.advancedSettingsPosition},c.a.createElement("a",{className:O.a.zoomButton,onClick:this._zoomIn,title:a.default.t("app.freelayout_editor.zoom_in")},c.a.createElement("img",{src:n("qM+k")})),c.a.createElement("a",{className:O.a.zoomButton,onClick:this._zoomOut,title:a.default.t("app.freelayout_editor.zoom_out")},c.a.createElement("img",{src:n("W1yj")})),c.a.createElement("a",{className:O.a.zoomButton,onClick:this._fillWidth,title:a.default.t("app.freelayout_editor.stretch_to_screen_width")},c.a.createElement("img",{src:n("PCE5")})),c.a.createElement("a",{className:s()(O.a.zoomButton,this.state.thumbsViewDisabled&&O.a.disabled),onClick:this.props.toThumbnailsView,title:a.default.t("app.freelayout_editor.thumbnails")},c.a.createElement("img",{src:n("kaKj")})),c.a.createElement(N,null),c.a.createElement("a",{className:O.a.zoomButton,onClick:this._toggleFullScreen,title:a.default.t("app.freelayout_editor.enter_fullscreen_mode")},c.a.createElement("img",{src:n("TAoN")})))))}}]),t}(u.Component),r.propTypes={toThumbnailsView:y.a.func.isRequired,toSingleView:y.a.func.isRequired,zoom:y.a.number.isRequired},o=i))||o)||o},hfFo:function(e,t,n){e.exports=n.p+"jUy2xiejcvH-_eWqxxGLn.svg"},i5wb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("wd/R"),d=n.n(f),y=n("TSYQ"),h=n.n(y),b=n("Zh7m"),g=n("aFOO"),m=n("rMMX"),v=n("KJEt"),_=n.n(v),O=n("R1L0");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?j(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=Object(p.connect)((function(e){return{loading:e.getIn(["revisions","loading"]),revisions:e.getIn(["revisions","revisions"]).filter((function(e){return!e.get("hidden")})),selectedIndex:e.getIn(["revisions","selectedIndex"])}}),(function(e){return{previewRevision:function(t){e({type:O.REVISION_PREVIEW,revisionIndex:t})}}}))((i=r=function(e){function t(){return w(this,t),C(this,k(t).apply(this,arguments))}return P(t,e),x(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.revisions,o=e.selectedIndex,r=e.previewRevision;return t?c.a.createElement(b.default,{customCss:"margin-top: 50px;"}):c.a.createElement(g.default,{height:"100%"},c.a.createElement("ul",{className:_.a.list},n.map((function(e,t){return c.a.createElement(I,{key:t,idx:t,revision:e,selected:o===t,previewFunc:r})}))))}}]),t}(u.PureComponent),r.propTypes={previewRevision:s.a.func.isRequired,loading:s.a.bool.isRequired,revisions:s.a.any.isRequired,selectedIndex:s.a.number.isRequired},o=i))||o,I=function(e){function t(e){var n;return w(this,t),(n=C(this,k(t).call(this,e))).previewRevision=n.previewRevision.bind(j(n)),n}return P(t,e),x(t,[{key:"previewRevision",value:function(){this.props.previewFunc(this.props.idx)}},{key:"render",value:function(){var e,t,n,o,r=this.props,i=r.idx,u=r.revision,l=r.selected,s=u.get("createdAt"),p=u.get("userName"),f=u.get("userAvatar");return e=0===i?a.default.t("app.revisions.current_version"):d.a.unix(s).format("YYYY-MM-DD, H:mm"),c.a.createElement("li",{className:h()(_.a.item,(t={},n=_.a.selected,o=l,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),onClick:this.previewRevision},c.a.createElement("div",null,c.a.createElement("div",null,e),c.a.createElement("div",{className:_.a.author},c.a.createElement(m.default,{avatarClass:_.a.avatar,avatarImage:f,fullName:p}),c.a.createElement("div",{className:_.a.name},p))))}}]),t}(u.PureComponent);I.propTypes={idx:s.a.number.isRequired,revision:s.a.object.isRequired,selected:s.a.bool.isRequired,previewFunc:s.a.func.isRequired}},kFHh:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var o=n("XzT5"),r=n("q1tI"),i=n.n(r),a=n("vOnD"),u=n("17x9"),c=n.n(u),l=n("OsVm"),s=n("LoZg"),p=n.n(s),f=n("USB3"),d=n("70t9");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=a.default.div.withConfig({displayName:"Panelreact__PanelRoot",componentId:"v4dgoz-0"})(["color:",";"],f.default.text),O=a.default.div.withConfig({displayName:"Panelreact__PaletteContainer",componentId:"v4dgoz-1"})(["max-height:150px;"]),E=a.default.div.withConfig({displayName:"Panelreact__PreviewContainer",componentId:"v4dgoz-2"})(["display:flex;width:100%;padding-top:20px;"]),w=a.default.div.withConfig({displayName:"Panelreact__PreviewColors",componentId:"v4dgoz-3"})(["flex-direction:row;width:100%;font-size:0;white-space:nowrap;overflow:hidden;line-height:1;"]),S=a.default.span.withConfig({displayName:"Panelreact__PreviewColor",componentId:"v4dgoz-4"})(["width:calc(50% - 1px);height:24px;display:inline-block;"]),x=Object(a.default)(S).attrs((function(e){return{style:{backgroundColor:e.color}}})).withConfig({displayName:"Panelreact__SelectedColor",componentId:"v4dgoz-5"})(["border-radius:5px 0 0 5px;"]),C=Object(a.default)(S).attrs((function(e){return{style:{backgroundColor:e.color}}})).withConfig({displayName:"Panelreact__OriginalColor",componentId:"v4dgoz-6"})(["border-radius:0 5px 5px 0;cursor:pointer;margin-left:2px;"]),k=a.default.div.withConfig({displayName:"Panelreact__InputRoot",componentId:"v4dgoz-7"})(["box-sizing:border-box;border:1px solid #C2C7CD;border-radius:3px;background-color:",";padding-left:0;margin-left:20px;height:24px;flex-direction:row;white-space:nowrap;font-size:0;float:right;"],f.default.background),j=a.default.div.withConfig({displayName:"Panelreact__Hash",componentId:"v4dgoz-8"})(["display:inline-block;width:15px;line-height:22px;font-size:11px;text-align:center;border-radius:5px 0 0 5px;color:#6A6A6A;background:none;"]),P=a.default.div.withConfig({displayName:"Panelreact__InputHolder",componentId:"v4dgoz-9"})(["display:inline-block;width:70px;"]),R=a.default.input.withConfig({displayName:"Panelreact__InputField",componentId:"v4dgoz-10"})(["box-sizing:border-box;height:22px;border:none;font-size:11px;text-align:left;padding:0;margin:0;text-transform:uppercase;border-radius:0 5px 5px 0;"]),T=function(e){function t(){var e,n;h(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=g(this,(e=m(t)).call.apply(e,[this].concat(r))))._colorInput=i.a.createRef(),n.state={activeColor:n.props.activeColor,originalColor:n.props.resolvedActiveColor},n._resetToOriginal=function(){n._handlePaletteColorChange(n.state.activeColor)},n._handlePaletteColorChange=function(e){n.props.onChange({source:"custom",value:e,displayValue:e})},n._changeCustomColor=function(){var e=n._colorInput.current,t=e.value;if(I(t)){var o=t.toUpperCase();e.value=o;var r="#"+o;n.props.onChange({source:"custom",value:r,displayValue:r})}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.resolvedActiveColor,n=e.children,r=e.inputColor;return i.a.createElement(_,null,n,i.a.createElement(d.Section,null,i.a.createElement(d.SectionHeader,null,i.a.createElement(d.SectionTitle,null,o.default.t("app.color_picker.custom_colors"))),i.a.createElement(O,null,i.a.createElement(l.default,{color:t,onChange:this._handlePaletteColorChange})),i.a.createElement(E,null,i.a.createElement(w,null,i.a.createElement(x,{color:t}),i.a.createElement(C,{color:this.state.originalColor,onClick:this._resetToOriginal,role:"button"})),i.a.createElement(k,null,i.a.createElement(j,null,"#"),i.a.createElement(P,null,i.a.createElement(R,{type:"text",maxlength:"6",size:"6",defaultValue:r,onChange:this._changeCustomColor,ref:this._colorInput}))))))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.activeColor,n=e.design,o=e.entityPath;if(t.startsWith("#"))this._setColorInputValue(t);else{var r=p()(n,o,t),i=r.match,a=r.value;i&&this._setColorInputValue(a)}}},{key:"_setColorInputValue",value:function(e){this._colorInput.current.value=e?e.substring(1).toUpperCase():""}}])&&b(n.prototype,r),a&&b(n,a),t}(r.PureComponent);function I(e){return/^([0-9a-fA-F]{3}){2}$/.test(e)}T.propTypes={activeColor:c.a.string,inputColor:c.a.string,resolvedActiveColor:c.a.string,onChange:c.a.func.isRequired,design:c.a.object,entityPath:c.a.array,children:c.a.node},T.defaultProps={activeColor:"#000000"}},kaKj:function(e,t,n){e.exports=n.p+"rl5CSl3u9MHHfE3BU87RR.svg"},kwfw:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Jgc/"),s=n("Sye6"),p=n("xVW7"),f=n("z3Ib"),d=n("avnT"),y=n("ZgL/"),h=n("qLhN"),b=n.n(h),g=n("PXfb"),m=n.n(g);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,E(t).call(this,e)))._refs={},n._handlers={rotate:n._assignHandler("rotate"),resize:n._assignHandler("resize")},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[s.default,p.default]}},{key:"calculateState",value:function(e,t){var n=p.default.activeHandle,o=s.default.boundingBox;return o&&["top","left","width","height"].some((function(e){return!isFinite(o[e])}))&&(o=null),{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.handlerKey,isResizing:p.default.resizing,isDragging:p.default.dragging,boundingBox:o}}}],(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?y.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&y.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){var e=this.state,t=e.isRotating,n=e.isResizing,o=e.isDragging,r=e.boundingBox;if(!r)return null;var u={transform:"rotate(".concat(r.rotation||0,"deg)"),top:r.top*this.props.scaleY,left:r.left*this.props.scaleX,width:r.width*this.props.scaleX,height:r.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:o?.5:1};return a.a.createElement("div",{style:u},a.a.createElement("div",{className:c()(b.a.selector)},a.a.createElement("div",{className:c()(b.a.border,b.a.solid)}),!this.props.commenting&&a.a.createElement(i.Fragment,null,(t||!n)&&a.a.createElement("img",{ref:this._handlers.rotate,className:b.a.rotationIcon,src:m.a}),!t&&!o&&a.a.createElement(i.Fragment,null,a.a.createElement(f.default,{width:u.width,height:u.height,handlers:this._handlers,rotation:r.rotation,resizing:n,mode:d.OVERLAY_MODES.RECTANGLE})))))}}])&&_(n.prototype,o),r&&_(n,r),t}(i.Component);S.propTypes={scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,handlerKey:r.a.string.isRequired,commenting:r.a.bool},t.default=l.Container.create(S,{withProps:!0})},l8VI:function(e,t,n){e.exports=n.p+"bWsCms76aicqXw2epdcDZ.svg"},lORu:function(e,t,n){"use strict";n.r(t),n.d(t,"hsvLong",(function(){return a}));var o=n("R9oZ"),r=n("7pL7");function i(e){return function(t,n){var i=e((t=Object(r.default)(t)).h,(n=Object(r.default)(n)).h),a=Object(o.default)(t.s,n.s),u=Object(o.default)(t.v,n.v),c=Object(o.default)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=a(e),t.v=u(e),t.opacity=c(e),t+""}}}t.default=i(o.hue);var a=i(o.default)},lc1c:function(e,t,n){"use strict";n.r(t);var o=n("Jgc/"),r=n("Zcty"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=new(function(e){function t(){return u(this,t),l(this,s(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_ACTION_LOADING:return t.value}return e}},{key:"loading",get:function(){return this.getState()}}])&&c(n.prototype,o),r&&c(n,r),t}(o.ReduceStore))(r.default);t.default=f},o4AA:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2TUXqZRrltXb70mjRIDpei {\n    width: 100%;\n    height: 100%;\n}\n",""]),t.locals={editableWrapper:"_2TUXqZRrltXb70mjRIDpei"}},pWtM:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("TSYQ"),d=n.n(f),y=n("SC+/"),h=n("vOnD"),b=n("DvT9"),g=n("KEPE"),m=n("7fFl"),v=n("LoZg"),_=n.n(v),O=n("EKef"),E=n("38c5"),w=n("Sye6"),S=n("HhMr"),x=n("w6T9"),C=n("rQKZ"),k=n("CYb3"),j=n("7WHd"),P=n("3UVq"),R=n("mTiA"),T=n("RzNS"),I=n.n(T);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=Object(h.default)(x.default).withConfig({displayName:"EditableFlexFooterreact__FooterButton",componentId:"sc-1m4e2em-0"})(["display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:0 25px;z-index:1;"]),B=h.default.div.withConfig({displayName:"EditableFlexFooterreact__FooterContainer",componentId:"sc-1m4e2em-1"})(["&:hover{","{display:inline-block;}}"],H);var X=Object(p.connect)((function(e){return Object(k.getFooterSettings)(e.get("footerSettings"))}))(o=Object(C.default)({withProps:!0})((i=r=function(e){function t(){var e,n;A(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=N(this,(e=q(t)).call.apply(e,[this].concat(r)))).renderBlock=function(e){switch(n.state.layout[e]){case"logo":return n.renderLogo();case"text":return n.renderText()}return null},n.onClick=function(){if(n.state.showUpgradeLink)return window.app.router.navigate("//upgrade/embed_button",{promote:{from:"embed_button"}});n.makeFooterSelection(),Object(g.changeFreeLayoutSettingsTab)(1),Object(j.setActiveSection)(P.PROJECT_SETTINGS_FOOTER_SECTION)},n.makeFooterSelection=function(){var e=w.default.currentSelection.clear();Object(b.updateSelectionState)(e),Object(m.selectFooter)()},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[E.default]}},{key:"calculateState",value:function(e,t){var n=O.default.editorState,o=O.default.isWhiteLabel;if(!t.showFooter&&o)return{disabled:!0};var r=n&&n.getDesign()||{},i=_()(r,null,t.backgroundColor),a=_()(r,null,t.textColor).value,u={},c=t.scaleY;t.bold&&(u.fontWeight=700),t.italic&&(u.fontStyle="italic"),t.fontSize&&(u.fontSize=t.fontSize),a&&(u.color=a);var l={background:_()(r,null,t.buttonBackgroundColor).value,color:_()(r,null,t.buttonTextColor).value,marginTop:19},s={width:t.width-60*c,height:60*c,marginTop:-60*c,padding:"0 ".concat(60*c/2,"px")};if(i&&i.value){var p=Object(y.color)(i.value);p.opacity=t.backgroundOpacity,s.background=p}var f=t.footnoteText;return"autoPagination"===t.footnoteType&&(f=function(e,t,n,o){var r=e+n-1;switch(o){case"x":return r;case"x / y":return"".concat(r," / ").concat(t);case"x ... y":return"".concat(r," ... ").concat(t)}}(t.pageNumber,t.pageCount,t.paginationStartWith,t.paginationFormat)),{buttonStyle:l,containerStyle:s,disabled:!1,layout:Object(k.getFooterLayout)(t.footerLayout,t.logoType,t.footnoteType),selected:E.default.selected,showUpgradeLink:!o,text:f,textStyle:u,blockStyle:{transform:"scale(".concat(c,")")},centerBlockStyle:{transform:"translateX(-50%) scale(".concat(c,")")},fullWidthButton:t.width>280}}}],(o=[{key:"render",value:function(){var e;if(this.state.disabled)return null;var t=this.state,n=t.containerStyle,o=t.showUpgradeLink,r=t.selected,i=c.a.createElement(H,{blue:!0,className:I.a.button,small:!0},a.default.t("app.infographic.edit_footer"));return o&&(i=c.a.createElement(H,{green:!0,className:I.a.button,small:!0},a.default.t("app.infographic.upgrade_to_customize"))),c.a.createElement(B,{className:d()(I.a.container,I.a.selectable,(e={},z(e,I.a.selected,r),z(e,I.a.upgradable,o),z(e,I.a.disabled,!this.props.mouseEventsEnabled),e)),onClick:this.onClick,style:n},c.a.createElement("div",{className:I.a.innerContainer},c.a.createElement("div",{style:this.state.blockStyle,className:I.a.left},this.renderBlock("left")),c.a.createElement("div",{style:this.state.centerBlockStyle,className:I.a.center},this.renderBlock("center")),c.a.createElement("div",{style:this.state.blockStyle,className:I.a.right},this.renderBlock("right"))),i)}},{key:"renderLogo",value:function(){var e=this.props,t=e.logoType,n=e.logoImage;return"custom_logo-infogram"===t||"custom_logo-custom"===t?c.a.createElement("div",{className:I.a.logo},c.a.createElement(S.default,{background:this.props.logoColor,text:!n&&a.default.t("app.infographic.made_with")||"",url:n,link:this.props.logoLink,logoName:this.props.logoName,width:this.props.logoWidth,height:this.props.logoHeight})):null}},{key:"renderText",value:function(){var e=this.state,t=e.textStyle,n=e.buttonStyle,o=e.text;switch(this.props.footnoteType){case"shareButton":return c.a.createElement(R.default,{style:n,fullWidth:this.state.fullWidthButton,onButtonClick:this.onClick,text:this.props.buttonText});case"text":return this.props.customLink?c.a.createElement("a",{style:t,href:this.props.customLink,target:"_blank",rel:"nofollow noopener noreferrer"},o):c.a.createElement("div",{style:t},o);case"autoPagination":return c.a.createElement("div",{style:t},o)}}}])&&M(n.prototype,o),r&&M(n,r),t}(u.Component),r.propTypes={mouseEventsEnabled:s.a.bool,backgroundColor:s.a.string,backgroundOpacity:s.a.number,bold:s.a.bool,buttonBackgroundColor:s.a.string,buttonText:s.a.string,buttonTextColor:s.a.string,customLink:s.a.string,flex:s.a.bool,fontSize:s.a.number,footerLayout:s.a.string,footnoteText:s.a.string,footnoteType:s.a.string,italic:s.a.bool,logoColor:s.a.string,logoType:s.a.string,logoImage:s.a.string,logoLink:s.a.string,logoName:s.a.string,pageNumber:s.a.number,pageCount:s.a.number,paginationFormat:s.a.string,paginationStartWith:s.a.number,showFooter:s.a.bool,textColor:s.a.string,logoWidth:s.a.number,logoHeight:s.a.number},r.defaultProps={mouseEventsEnabled:!0},o=i))||o)||o},qLhN:function(e,t,n){var o=n("L7g7");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"qM+k":function(e,t,n){e.exports=n.p+"3LT5Rb4NXliPzoP93-DblI.svg"},qxmC:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Jgc/"),s=n("xVW7"),p=n("Tha3"),f=n("avnT"),d=n("B6Rb"),y=n("ZTyM"),h=n.n(y);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=["nw","n","ne","w","center","e","sw","s","se"];var w=function(e){function t(){return g(this,t),v(this,_(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[s.default]}},{key:"calculateState",value:function(e,t){var n,o,r,i=t.scaleX,a=t.scaleY,u=t.blockKey,c=s.default.connectorTargetEntity;if(c&&!c.locked&&c.getBlockKey()===u&&Object(d.getOverlayMode)(c)===f.OVERLAY_MODES.RECTANGLE&&(n=s.default.activeHandle,(o=n&&n.get("type"))&&-1!==["connectorCreate","from","to"].indexOf(o))){var l=Object(p.calculateClippedRectangle)(c);r={transform:"rotate(".concat(l.transform.rotate,"deg)"),top:l.top*a,left:l.left*i,width:l.width*i,height:l.height*a,position:"absolute",pointerEvents:"none",zIndex:1}}return{containerStyle:r}}}],(o=[{key:"render",value:function(){var e=this.state.containerStyle;return e?a.a.createElement("div",{style:e},E.map((function(e){return a.a.createElement("div",{className:c()(h.a[e],h.a.snapPoint),key:e})}))):null}}])&&m(n.prototype,o),r&&m(n,r),t}(i.Component);w.propTypes={scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,blockKey:r.a.string},t.default=l.Container.create(w,{withProps:!0})},r5Ws:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1UMgMs7pUu-DWwYcmyw3gc {\n    background-color: #2d2d2d;\n    vertical-align: middle;\n    line-height: 45px;\n    padding-left: 17px;\n    margin: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo {\n    vertical-align: middle;\n    height: 40px;\n    font-size: 14px;\n    background-color: #c13134;\n    min-width: 190px;\n    padding: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo:hover {\n    background-color: #dc5356;\n}\n\n.hJCgOEHrukZTvIl1NGGl1 {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    overflow-y: scroll;\n}\n\n.tz_48AX23UoEPMqG-1u_I {\n    overflow: initial;\n}\n\n._3mZK7nVc7dRO3ApTCfCeZI {\n    cursor: default;\n    font-size: 11px;\n    font-weight: 500;\n    color: #656565;\n    height: 23px;\n}\n\n.PQvtrNdK3kN1-d9ogcbX9 {\n    margin-bottom: 50px;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    background: linear-gradient(135.16deg, #419BAD 0%, #582E8D 100%);\n    height: 100%;\n    width: 100%;\n    opacity: 0.95;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH:after {\n    content: '';\n    background: url('/i/paywalls/waves.svg') no-repeat 100% 100%;\n    background-size: contain;\n    position: absolute;\n    width: 100%;\n    height: 205px;\n    max-width: 1600px;\n    bottom: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n}\n\n._3KYBwlRncafgN6BSCEtfd8 {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 50px;\n}\n\n._36oLJBhM_gHNfjyLkE56sf {\n    width: 120px;\n}\n\n._3OOi6chTgLbxlN8YkZcbZ8 {\n    font-size: 37px;\n    margin: 24px 0 22px;\n    font-weight: 300;\n}\n\n._2DIKg1u6-uuKt1LiTloVQb {\n    line-height: 22px;\n    font-size: 15px;\n    font-weight: 500;\n}\n\n._2ArLGUIEAqw30-EVTK7uY- {\n    display: inline-block;\n    height: 50px;\n    width: 280px;\n    line-height: 48px;\n    border-radius: 4px;\n    margin: 28px 0;\n    font-size: 17px;\n}\n",""]),t.locals={panelTitle:"_1UMgMs7pUu-DWwYcmyw3gc",toolbarRestoreButton:"rZlw9sQEa3FGwXfDi7Cpo",contents:"hJCgOEHrukZTvIl1NGGl1",contentsPaywall:"tz_48AX23UoEPMqG-1u_I",pageIndicatorText:"_3mZK7nVc7dRO3ApTCfCeZI",blockContainer:"PQvtrNdK3kN1-d9ogcbX9",paywallBackground:"_1WqTbSEH1c4DRuh5SWI3lH",paywallContent:"_3KYBwlRncafgN6BSCEtfd8",paywallImage:"_36oLJBhM_gHNfjyLkE56sf",paywallTitle:"_3OOi6chTgLbxlN8YkZcbZ8",paywallText:"_2DIKg1u6-uuKt1LiTloVQb",paywallButton:"_2ArLGUIEAqw30-EVTK7uY-"}},rRPG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._4dlW5NPA5B4XBQ6CsoxMI {\n    font-size: 15px;\n    font-weight: 500;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 25px;\n}\n\n._31bPTCHKYRvGLxztuyvCL- {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._1cGeIkQFWJwmcvwwiJ7_5j {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px;\n}\n\n._3agSnovTsqf6vhTz5FsdiO {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n}\n\n._1mpctopZvYgtBUZbwJDKND {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._3UdC45V_jOWnMS_tFe5I7U {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 20px;\n    width: 35px;\n    height: 35px;\n    line-height: 37px;\n    background-size: cover;\n    border-radius: 100%;\n}\n\n._2JYlnyvEcYU7S196gRlJLh {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n    color: #9d9d9d;\n}\n",""]),t.locals={title:"_4dlW5NPA5B4XBQ6CsoxMI",icon:"_31bPTCHKYRvGLxztuyvCL-",label:"_1cGeIkQFWJwmcvwwiJ7_5j",version:"_3agSnovTsqf6vhTz5FsdiO",date:"_1mpctopZvYgtBUZbwJDKND",avatar:"_3UdC45V_jOWnMS_tFe5I7U",name:"_2JYlnyvEcYU7S196gRlJLh"}},s6sw:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("Zcty"),r=n("5pUS");function i(e,t){o.default.dispatch({type:r.UPDATE_TEXT_ELEMENT_SIZE,entityKey:e,props:t})}},sPB4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1mS1Qz-8pLZNWGEyIfWk0O:hover {\n    text-decoration: none;\n    color: #646464;\n}\n\n._1mS1Qz-8pLZNWGEyIfWk0O {\n    cursor: pointer;\n    color: #fff;\n    font-size: 14px;\n    padding: 7px 5px;\n    display: inline-flex;\n    vertical-align: middle;\n    text-align: center;\n}\n\n._1mS1Qz-8pLZNWGEyIfWk0O:hover {\n    background: #656565;\n    border-radius: 4px;\n}\n\n.QSp4G7aK1jRxQyq4owQq5 {\n    position: absolute;\n    left: 100%;\n    bottom: 0;\n    margin-left: 5px;\n    line-height: initial;\n}\n\n._7CxOo1oMbi_9PCFUiwvDM {\n    font-size: 9px;\n    padding-top: 5px;\n}\n\n.u6DTSnPpLbxIvX6SQctNQ {\n    opacity: 0.4;\n    pointer-events: none;\n}\n",""]),t.locals={zoomButton:"_1mS1Qz-8pLZNWGEyIfWk0O",layoutPopup:"QSp4G7aK1jRxQyq4owQq5",buttonTitle:"_7CxOo1oMbi_9PCFUiwvDM",disabled:"u6DTSnPpLbxIvX6SQctNQ"}},sPuu:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var o=n("q1tI"),r=n.n(o),i=n("CGy3"),a=n("up6U"),u=n("Huhh"),c=n("XDYk"),l=n("QW3c");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var y=Object(a.default)((function(e,t,n){return r.a.createElement(l.default,{entity:e,design:t,contentWidth:n})})),h=Object(a.default)((function(e,t,n){return r.a.createElement(l.default,{entity:e,design:t,contentWidth:n,resizeOnInit:!0})})),b=function(e,t,n){var o=e.getType();switch(o){case"TEXT":var i=n&&n.resizeOnInit?h:y;return r.a.createElement(i,d({entity:e,design:t},n));default:var a=Object(u.default)(o);return r.a.createElement(a,d({entity:e,design:t},n))}};function g(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.scaleX,u=n.scaleY,l=o.commentingIsAvailable,s=o.onAddComment,f=o.onMouseHover,d=o.pageSize,y=o.block,h=o.preview,g=o.readOnly,m=o.inEditMode,v=o.groupMode;return r.a.createElement(c.default,{entity:e,scaleX:a,scaleY:u,commentingIsAvailable:l,onAddComment:s},b(e,t,p({},n,{inEditMode:m,onLinkPreviewClick:i.default,onMouseHover:f,pageSize:d,block:y,preview:h,groupMode:v,readOnly:g})))}},t4t9:function(e,t,n){"use strict";n.r(t);var o=n("Jgc/"),r=n("Zcty"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return u(this,t),l(this,s(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_DISPLAY_START_SAVING:return!0;case i.EDITOR_DISPLAY_STOP_SAVING:return!1}return e}},{key:"isSaving",get:function(){return this.getState()}}])&&c(n.prototype,o),r&&c(n,r),t}(o.ReduceStore);t.default=new f(r.default)},tE8V:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2dtVQRXWUiPmbQfj-fIzjb {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0 0 70px 0;\n}\n\n._2510-zrO9rAtpsUf7OJ6td {\n\tdisplay: block;\n\tposition: relative;\n\tpadding: 15px 0 15px 40px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:before {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 1px;\n\ttop: 0;\n\tleft: 20px;\n\tbottom: 0;\n\tbackground-color: #656565;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:after {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 17px;\n\ttop: 17px;\n\twidth: 7px;\n\theight: 7px;\n\tbackground-color: #656565;\n\tborder-radius: 50%;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:last-child:before {\n\tbottom: auto;\n\theight: 17px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:before {\n\ttop: 15px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:after {\n\twidth: 11px;\n\theight: 11px;\n\tleft: 15px;\n\ttop: 15px;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW {\n\tbackground-color: #656565;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW:after {\n\tbackground-color: #cacaca;\n}\n\n._1qghFzpelIhDHSXMsrTLrR {\n\tmargin-top: 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n._3nxToVRFV-oCqxLHdMj-Gb {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\twidth: 20px;\n\theight: 20px;\n\tline-height: 21px;\n\tbackground-size: cover;\n\tborder-radius: 100%;\n\tborder: none;\n\tfont-size: 10px;\n\tfont-weight: 500;\n}\n\n.A051V1q8Qr3yRgunJdA5z {\n\tdisplay: inline-block;\n\tfont-size: 11px;\n\tmargin-left: 5px;\n\tcolor: #fff;\n\topacity: 0.5;\n}\n",""]),t.locals={list:"_2dtVQRXWUiPmbQfj-fIzjb",item:"_2510-zrO9rAtpsUf7OJ6td",selected:"_1-f7CRhhtCLpjPiDSfKMKW",author:"_1qghFzpelIhDHSXMsrTLrR",avatar:"_3nxToVRFV-oCqxLHdMj-Gb",name:"A051V1q8Qr3yRgunJdA5z"}},"tl4+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("vOnD"),f=n("/MKj"),d=n("UJ0y"),y=n("VuSB"),h=n("aXXi"),b=n("USB3");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=p.default.div.withConfig({displayName:"LayoutPopupreact__Header",componentId:"r784w6-0"})(["background-color:#2d2d2d;height:31px;text-align:center;line-height:31px;color:#D8D8D8;font-size:11px;border-top-left-radius:4px;border-top-right-radius:4px;font-family:",";",""],b.default.fonts.ralewayBold,(function(e){return e.theme.id===b.default.id&&"\n        background-color: ".concat(b.default.neutral60,";\n        color: ").concat(b.default.neutral600,";\n    ")})),x=p.default.div.withConfig({displayName:"LayoutPopupreact__Container",componentId:"r784w6-1"})(["min-width:181px;background-color:#434343;border-radius:4px;box-shadow:0px 10px 40px rgba(0,0,0,0.5);text-align:left;cursor:default;",""],(function(e){return e.theme.id===b.default.id&&"\n        background-color: ".concat(b.default.white,";\n        box-shadow: ").concat(b.default.shadow.default,";\n    ")})),C=p.default.span.withConfig({displayName:"LayoutPopupreact__HelpButton",componentId:"r784w6-2"})(["cursor:help;float:right;margin-top:2px;font-size:11px;min-height:16px;padding-right:25px;background-image:url(",");background-position:center right;background-size:16px;background-repeat:no-repeat;display:flex;align-items:center;color:#fff;",""],n("l8VI"),(function(e){return e.theme.id===b.default.id&&"\n        font-family: inherit;\n        background-image: url(".concat(n("vBcK"),");\n        color: rgba(55, 64, 80, 0.4);\n    ")})),k=p.default.div.withConfig({displayName:"LayoutPopupreact__Content",componentId:"r784w6-3"})(["padding:10px;font-size:11px;"]),j=p.default.div.withConfig({displayName:"LayoutPopupreact__Divider",componentId:"r784w6-4"})(["margin:5px -10px;height:2px;border:0;background-color:#656565;",""],(function(e){return e.theme.id===b.default.id&&"\n        display: none;\n    "})),P=p.default.div.withConfig({displayName:"LayoutPopupreact__Sliders",componentId:"r784w6-5"})(["",""],(function(e){return e.disabled&&"\n        pointer-events: none;\n        opacity: 0.5;\n    "})),R=p.default.div.withConfig({displayName:"LayoutPopupreact__SliderLabel",componentId:"r784w6-6"})(["padding-top:8px;",""],(function(e){return e.theme.id===b.default.id&&"\n        font-family: ".concat(b.default.fonts.ralewayBold,";\n    ")})),T=p.default.span.withConfig({displayName:"LayoutPopupreact__SliderLabelValue",componentId:"r784w6-7"})(["float:right;"]),I=Object(f.connect)((function(e){return{showGuides:e.getIn(["flexEditorGrid","showGuides"]),snapObjects:e.getIn(["flexEditorGrid","snapObjects"]),whitespacePercent:e.getIn(["flexEditorGrid","whitespacePercent"]),columnCount:e.getIn(["flexEditorGrid","columnCount"])}}),(function(e){return{setShowGuides:function(t,n){e({type:h.FLEX_EDITOR_GRID_SHOW_GUIDES,payload:n})},setSnapObjects:function(t,n){e({type:h.FLEX_EDITOR_GRID_SNAP_OBJECTS,payload:n})},setWhitespacePercent:function(t){var n=w(t,1)[0];e({type:h.FLEX_EDITOR_GRID_SET_WHITESPACE_PERCENT,payload:Math.round(2*n)/2})},setColumnCount:function(t){var n=w(t,1)[0];e({type:h.FLEX_EDITOR_GRID_SET_COLUMN_COUNT,payload:Math.round(n)})}}}))((i=r=function(e){function t(){return m(this,t),_(this,O(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return c.a.createElement(x,null,c.a.createElement(S,null,a.default.t("app.freelayout_editor.layout.popupTitle2")),c.a.createElement(k,null,c.a.createElement(d.default,{label:a.default.t("app.freelayout_editor.layout.showGuides"),onChange:this.props.setSnapObjects,active:this.props.snapObjects,singleLine:!0,customCss:"margin-bottom: 5px;"}),c.a.createElement(C,{"data-tooltip-position":"right","data-tooltip":a.default.t("app.freelayout_editor.layout.guidesTooltip")},"G"),c.a.createElement(d.default,{label:a.default.t("app.freelayout_editor.layout.showLayout"),onChange:this.props.setShowGuides,active:this.props.showGuides,singleLine:!0,customCss:"margin-bottom: 5px;"}),c.a.createElement(C,{"data-tooltip-position":"right","data-tooltip":a.default.t("app.freelayout_editor.layout.layoutTooltip")},"L"),c.a.createElement(P,{disabled:!this.props.showGuides},c.a.createElement(j,null),c.a.createElement(R,null,a.default.t("app.freelayout_editor.layout.whitespaceSlider2"),c.a.createElement(T,null,2*this.props.whitespacePercent)),c.a.createElement(y.default,{min:0,max:6,value:this.props.whitespacePercent,onChange:this.props.setWhitespacePercent}),c.a.createElement(R,null,a.default.t("app.freelayout_editor.layout.columnSlider2"),c.a.createElement(T,null,this.props.columnCount)),c.a.createElement(y.default,{min:1,max:12,value:this.props.columnCount,onChange:this.props.setColumnCount}))))}}])&&v(n.prototype,o),r&&v(n,r),t}(u.PureComponent),r.propTypes={setShowGuides:s.a.func.isRequired,setSnapObjects:s.a.func.isRequired,setWhitespacePercent:s.a.func.isRequired,setColumnCount:s.a.func.isRequired,showGuides:s.a.bool.isRequired,snapObjects:s.a.bool.isRequired,whitespacePercent:s.a.number.isRequired,columnCount:s.a.number.isRequired},o=i))||o},ttbh:function(e,t,n){var o=n("sPB4");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},uwfs:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("i8i4"),s=n.n(l),p=n("vOnD"),f=n("17x9"),d=n.n(f),y=n("kFHh"),h=n("Mo2j"),b=n("ySsV"),g=n("EKef"),m=n("Sye6"),v=n("70t9"),_=n("fhZ6"),O=n("rQKZ"),E=n("USB3"),w=n("/80h");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function R(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=Object(O.default)({withProps:!0})((i=r=function(e){function t(){var e,n;k(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=R(this,(e=T(t)).call.apply(e,[this].concat(r)))).state={paletteVisible:!1},n._panel=c.a.createRef(),n._popup=c.a.createRef(),n._chooseThemeColor=function(e){var t=e.displayValue,o=e.value;n._panel.current._colorInput.current.value="",n.props.onChange({source:"theme",value:o,displayValue:t})},n}return I(t,e),P(t,[{key:"render",value:function(){var e=this.state,t=e.design,n=e.entityPath,o=e.inputColor,r=e.resolvedActiveColor,i=e.colorSections;return s.a.createPortal(c.a.createElement(q,{key:"panel",ref:this._popup,x:this.props.x,y:this.props.y+-12,onClose:this.props.onClose},c.a.createElement(y.default,{key:"panel",ref:this._panel,onChange:this.props.onChange,activeColor:this.props.color,inputColor:o,resolvedActiveColor:r,design:t,entityPath:n},i.theme&&c.a.createElement(v.default,{title:i.theme.title,colors:i.theme.colors,onChoose:this._chooseThemeColor}))),document.body)}}],[{key:"getStores",value:function(){return[h.default,b.default,g.default,m.default]}},{key:"calculateState",value:function(e,t){var n,o,r={},i=h.default.themeColors;if(b.default.isFreeLayout){var u=g.default.editorState,c=m.default.currentSelection;n=u.getDesign();var l=c;if(l.isEmpty())o=["BLOCK"];else{var s=l.getEntities().first();o=[u.getEntity(s).getType()]}}return i.isEmpty()||(r.theme={title:a.default.t("app.color_picker.section_theme"),colors:i,id:"colors"}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(w.populateColorData)({sections:r,entityPath:o,design:n,activeColor:t.color}),{design:n,entityPath:o})}}]),t}(u.Component),r.propTypes={x:d.a.number.isRequired,y:d.a.number.isRequired,color:d.a.string,onChange:d.a.func.isRequired,onClose:d.a.func,children:d.a.node},o=i))||o,A=p.default.div.withConfig({displayName:"ColorPickerreact__PopupWrapper",componentId:"sc-186rudr-0"})(["position:fixed;z-index:99999;transform:translate(-100%,0);padding-right:5px;"]),M=p.default.div.withConfig({displayName:"ColorPickerreact__PopupInner",componentId:"sc-186rudr-1"})(["box-sizing:border-box;position:relative;background-color:",";padding:20px;border:none;border-radius:4px;box-shadow:0 1px 4px 0 rgba(46,58,74,0.5);max-width:298px;"],E.default.background),N=p.default.a.withConfig({displayName:"ColorPickerreact__CloseButton",componentId:"sc-186rudr-2"})(["position:absolute;width:11px;height:11px;top:5px;right:5px;cursor:pointer;background:url(",") center no-repeat;background-size:contain;"],n("M5lW")),q=function(e){function t(){var e,n;k(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=R(this,(e=T(t)).call.apply(e,[this].concat(r))))._element=c.a.createRef(),n.state={hasDimensions:!1},n._closeIfRequired=function(e){"keydown"===e.type?e.keyCode===_.default.ESCAPE&&(e.stopPropagation(),e.preventDefault(),n.props.onClose()):"mousedown"===e.type&&(n._element.current.contains(e.target)||n.props.onClose())},n}return I(t,e),P(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.children,o={left:this.props.x,top:this.props.y};if(this.state.hasDimensions){var r=this.state,i=r.elementRight,a=r.elementBottom,u=r.viewportWidth,l=r.viewportHeight;i>=u&&(delete o.left,o.right=0),a>=l&&(delete o.top,o.bottom=0)}return c.a.createElement(A,{style:o,ref:this._element},c.a.createElement(M,null,n,c.a.createElement(N,{role:"button",onClick:t})))}},{key:"componentDidMount",value:function(){window.document.addEventListener("keydown",this._closeIfRequired,!0),window.document.addEventListener("mousedown",this._closeIfRequired,!1),this.update()}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mousedown",this._closeIfRequired,!1),window.document.removeEventListener("keydown",this._closeIfRequired,!0)}},{key:"update",value:function(){var e=window,t=e.innerWidth,n=e.innerHeight,o=this._element.current.getBoundingClientRect(),r=o.right,i=o.bottom;this.setState({hasDimensions:!0,elementRight:Math.ceil(r),elementBottom:Math.ceil(i),viewportWidth:t,viewportHeight:n})}}]),t}(u.PureComponent);q.propTypes={children:d.a.node,x:d.a.number.isRequired,y:d.a.number.isRequired,onClose:d.a.func.isRequired}},v8xS:function(e,t,n){"use strict";n.r(t),n.d(t,"loadTemplate",(function(){return l}));var o=n("Zcty"),r=n("1QDN"),i=n("kOm4"),a=n("Aw7l");function u(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){u(i,o,r,a,c,"next",e)}function c(e){u(i,o,r,a,c,"throw",e)}a(void 0)}))}}function l(e){return s.apply(this,arguments)}function s(){return(s=c(regeneratorRuntime.mark((function e(t){var n,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return o.default.dispatch({type:r.FLEX_TEMPLATE_LOADED,data:{pages:[]}}),window.loadingLog&&window.loadingLog.push("no templateId FLEX_TEMPLATE_LOADED"),e.abrupt("return");case 4:return o.default.dispatch({type:r.FLEX_TEMPLATE_LOADING}),e.prev=5,e.next=8,fetch("/api/flex/template/".concat(t),{credentials:"same-origin"});case 8:if(n=e.sent,window.loadingLog&&window.loadingLog.push("template fetched"),n.ok){e.next=16;break}return e.t0=Error,e.next=14,n.text();case 14:throw e.t1=e.sent,new e.t0(e.t1);case 16:return e.next=18,n.json();case 18:u=e.sent,c=u.pages.map((function(e){return i.default.createFromJSONObject(e.key,e)})),window.loadingLog&&window.loadingLog.push("data parsed and FLEX_TEMPLATE_LOADED"),o.default.dispatch({type:r.FLEX_TEMPLATE_LOADED,data:{pages:c}}),e.next=28;break;case 24:e.prev=24,e.t2=e.catch(5),o.default.dispatch({type:r.FLEX_TEMPLATE_LOADING_ERROR}),Object(a.logError)("Flex template loading error",e.t2);case 28:case"end":return e.stop()}}),e,null,[[5,24]])})))).apply(this,arguments)}},vBcK:function(e,t,n){e.exports=n.p+"176r_Ou2QnAQJ_u9JJun6-.svg"},vCdm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var o=n("f+XQ"),r=n.n(o),i=n("f2Xr"),a=n("EKef"),u=n("Sye6"),c=n("d7P5");function l(){var e=a.default.editorState,t=u.default.currentSelection,n=u.default.currentSelection.getBlocks();if(!t.isEmpty()||1===n.size){var o,l={source:"infogram.com",type:"flex",pageSize:a.default.editorState.getPageSize(),entities:[],fonts:e.getFonts().toJS(),design:e.getDesign()};if(1===n.size){var s=n.first(),p=e.getCurrentContent().getBlock(s);o=p.getEntities(),l.isBlock=!0,l.design={background:e.getBlockDesignProperty(p,"background")}}else o=e.getEntities(t.getEntities());Object(c.default)(e,o).forEach((function(e){var t=e.toJS();delete t.blockKey,l.entities.push(t)}));var f=JSON.stringify(l);r.a.copy({"text/plain":window.clipboardData?f:[].join("\n"),"application/json":f}).catch(i.default)}}},vly6:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("9s3c"),s=n("qxmC");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return f(this,t),y(this,h(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props.entity;return r.a.createElement(o.Fragment,null,e&&r.a.createElement(l.default,{handlerKey:e.getKey(),entity:e,scaleX:this.props.scaleX,scaleY:this.props.scaleY}),r.a.createElement(s.default,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,blockKey:this.props.blockKey}))}}])&&d(n.prototype,i),a&&d(n,a),t}(o.PureComponent);g.propTypes={entity:c.a.record,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,blockKey:a.a.string.isRequired},t.default=g},wa9k:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3kygduKZmMdZKVRSYHEex2 {\n    pointer-events: auto;\n    position: absolute;\n    height: 13px;\n    width: 13px;\n    padding: 2px;\n    transform-origin: top left;\n    box-sizing: content-box;\n    cursor: crosshair;\n}\n\n._3iU63BqwtswSR9vHCHxkvI {\n    transform-origin: 50% 50%;\n}\n\n._26ftTm4opMQbNOC-MxcjgO {\n    pointer-events: none;\n    height: 11px;\n    width: 11px;\n    border-radius: 100%;\n    background-color: #3195cb;\n    border: 1px solid #fff;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n    -webkit-backface-visibility: hidden;\n    -moz-backface-visibility: hidden;\n}\n\n._1h2jyG6wxiPJgA5AlKigWC {\n    pointer-events: auto;\n    position: absolute;\n    height: 20px;\n    width: 20px;\n    background: #3195cb;\n    border-radius: 100%;\n    opacity: 0.5;\n}\n\n._3FcCNm_K416zuBH3V4S85y {\n    top: -10px;\n    left: -10px;\n}\n._1v3_xhjaCYhJivWNY6SSXf {\n    top: -10px;\n    left: calc(50% - 10px);\n}\n._3IkWwYgbKUn50oG8I2Gzh7 {\n    top: -10px;\n    right: -10px;\n}\n.rXDWt5byIe9ZZjVwKcKaW {\n    left: -10px;\n    top: calc(50% - 10px);\n}\n.Q1o9UdUFzoVnyZnsI4RRu {\n    left: calc(50% - 10px);\n    top: calc(50% - 10px);\n}\n._39fZePyY5DIyZvdKypTDsq {\n    right: -10px;\n    top: calc(50% - 10px);\n}\n.Kf5HZ96DKy41PJ1QdKFO1 {\n    bottom: -10px;\n    left: -10px;\n}\n._263CPDCgA3ld7DzUSXWQ76 {\n    bottom: -10px;\n    left: calc(50% - 10px);\n}\n._3qxD5pL_D6d1IdSzCpDEmh {\n    bottom: -10px;\n    right: -10px;\n}\n",""]),t.locals={connectorCreateHandleWrapper:"_3kygduKZmMdZKVRSYHEex2",connectorHandleWrapper:"_3iU63BqwtswSR9vHCHxkvI",connectorCreateHandle:"_26ftTm4opMQbNOC-MxcjgO",snapPoint:"_1h2jyG6wxiPJgA5AlKigWC",nw:"_3FcCNm_K416zuBH3V4S85y",n:"_1v3_xhjaCYhJivWNY6SSXf",ne:"_3IkWwYgbKUn50oG8I2Gzh7",w:"rXDWt5byIe9ZZjVwKcKaW",center:"Q1o9UdUFzoVnyZnsI4RRu",e:"_39fZePyY5DIyZvdKypTDsq",sw:"Kf5HZ96DKy41PJ1QdKFO1",s:"_263CPDCgA3ld7DzUSXWQ76",se:"_3qxD5pL_D6d1IdSzCpDEmh"}},x0dF:function(e,t,n){var o=n("Vbgj");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},xugc:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("up6U"),a=n("e0gr");t.default=Object(i.default)((function(e){return r.a.createElement(a.default,{entityKey:e.getKey()})}))},yGHk:function(e,t,n){e.exports=n.p+"1Y2a8t4rqPGJNP7OlegayD.svg"},ywRP:function(e,t,n){var o=n("o4AA");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},z3Ib:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("17x9"),u=n.n(a),c=n("q1tI"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("TSYQ"),y=n.n(d),h=n("Sye6"),b=n("TJ0u"),g=n("vmwM"),m=n("rQKZ"),v=n("avnT"),_=n("qLhN"),O=n.n(_);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=["begin","end"],R=["n","ne","e","se","s","sw","w","nw"],T=["ne","nw","sw","se"],I=["ns-resize","nesw-resize","ew-resize","nwse-resize"],D=Object(f.connect)((function(e){var t=e.get("editorZoom");return{mousePosition:e.get("mousePosition"),zoom:t.zoom}}),null,null,{areStatesEqual:function(e,t){return e.get("mousePosition")===t.get("mousePosition")&&e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.mousePosition===t.mousePosition}})(o=Object(m.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=S(t).call(this,e),(n=!r||"object"!==E(r)&&"function"!=typeof r?x(o):r)._assignHandler=function(e,t){var o;if(n.props.mode===v.OVERLAY_MODES.LINE)o=n.props.handlers[e];else if(n.props.mode===v.OVERLAY_MODES.TEXT)o=R.includes(e)?n.props.handlers.scaleText:n.props.handlers.resizeWidth;else{o=R.indexOf(e)%2?n.props.handlers.resize:n.props.handlers.resizeSide}o(t,e),n._refs[e]=t},n._setRef=n._setRef.bind(x(n)),n._storePositions=n._storePositions.bind(x(n)),n._getCursor=n._getCursor.bind(x(n)),n._findActiveResize=n._findActiveResize.bind(x(n)),n._handleMouseDown=n._handleMouseDown.bind(x(n)),n._handleMouseUp=n._handleMouseUp.bind(x(n)),n._refs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),k(t,null,[{key:"getStores",value:function(){return[b.default,h.default,g.default]}},{key:"calculateState",value:function(e,t){var n=b.default.scrolling,o=t&&t.resizing,r=e&&e.positions,i=!h.default.multiSelectionActive&&!t.isGroup,a=h.default.currentSelection,u=e&&e.selected;return e&&e.resizing&&!o&&(u=null),{positions:r,selected:u,scrolling:n,resizing:o,clipping:!!g.default.activeType,sideResizeEnabled:i,selection:a}}}]),k(t,[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.clipping&&!this.state.clipping||t.selection!==this.state.selection||e.width!==this.props.width||e.height!==this.props.height||e.rotation!==this.props.rotation)&&this._storePositions()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._refs).forEach((function(t){return e._assignHandler(t,null)}))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.mode,r=n.width,i=n.height,a=this.state.sideResizeEnabled,u=this._findActiveResize();if(v.OVERLAY_MODES.LINE===o)e=P;else if(o===v.OVERLAY_MODES.TEXT)e=a&&T||[];else{var s=[a&&r>24,!0,a&&i>24,!0];e=R.filter((function(e,t){return s[t%4]}))}var p=v.OVERLAY_MODES.RECTANGLE===o||o===v.OVERLAY_MODES.TEXT;return l.a.createElement("div",null,o===v.OVERLAY_MODES.TEXT&&a&&l.a.createElement(c.Fragment,null,l.a.createElement("div",{ref:this._setRef,style:{cursor:this._getCursor("left")},className:y()(O.a.resizeText,O.a.resizeTextEast),"data-type":"left",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},l.a.createElement("div",{style:{transform:this._getTransform("left",u)},className:y()(O.a.resizeTextHandle)})),l.a.createElement("div",{ref:this._setRef,style:{cursor:this._getCursor("right")},className:y()(O.a.resizeText,O.a.resizeTextWest),"data-type":"right",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},l.a.createElement("div",{style:{transform:this._getTransform("right",u)},className:y()(O.a.resizeTextHandle)}))),e.map((function(e){var n,r;return l.a.createElement("div",{className:y()((n={},w(n,O.a.lineResizeHandle,v.OVERLAY_MODES.LINE===o),w(n,O.a.resizeHandle,p),w(n,O.a[e],!0),n)),style:{cursor:t._getCursor(e)},key:e,"data-type":e,ref:t._setRef,onMouseDown:t._handleMouseDown,onMouseUp:t._handleMouseUp},l.a.createElement("div",{className:y()((r={},w(r,O.a.lineResizeHandleCircle,v.OVERLAY_MODES.LINE===o),w(r,O.a.resizeHandleRectangle,p),r)),style:{transform:t._getTransform(e,u)}}))})))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,o=this.state,r=o.positions,i=o.selected;if(i)return{type:i,scale:1};var a=null;return!r||i||t||Object.keys(r).forEach((function(e){var t,o,i=r[e],u=i?(t=i,o=n,Math.floor(Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2)))):1/0;(!a||u<a.distance)&&(a={type:e,distance:u})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>70)return 0;var t=.75*(83-e)/70+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getCursor",value:function(e){if(this.props.mode===v.OVERLAY_MODES.LINE)return"move";this.props.mode===v.OVERLAY_MODES.TEXT&&("left"===e?e="e":"right"===e&&(e="w"));var t=R.indexOf(e),n=this.props.rotation+112.5,o=Math.floor(n/45)-2;return I[(I.length+t+o)%I.length]}},{key:"_getTransform",value:function(e,t){var n=0;return this.props.mode===v.OVERLAY_MODES.LINE?n=1:t&&t.type===e&&(n=t.scale),"scale(".concat(n,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var o=e._refs[n];t[n]=o?e._getPosition(o):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e){if(e){var t=e.getAttribute("data-type");this._assignHandler(t,e)}}},{key:"_handleMouseDown",value:function(e){var t=e.target.getAttribute("data-type");this.setState({selected:t})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}]),t}(c.Component),r.propTypes={width:u.a.number.isRequired,height:u.a.number.isRequired,handlers:u.a.object.isRequired,rotation:u.a.number.isRequired,zoom:u.a.number.isRequired,resizing:u.a.bool.isRequired,mode:u.a.string.isRequired,isGroup:u.a.bool,mousePosition:p.a.contains({x:u.a.number.isRequired,y:u.a.number.isRequired})},o=i))||o)||o},zkXd:function(e,t,n){"use strict";n.r(t),n.d(t,"createBackgroundDragHandler",(function(){return l}));var o=n("WdyC"),r=n("vmwM"),i=n("XjPQ"),a=n("CS6a"),u=n("G5AB"),c=n("mIYK");function l(e){var t=e.moveClip,n=e.getBounds,l=e.onStart,s=e.onEnd;return function(e){var p,f,d=n&&n(),y=this.props,h=y.scaleX,b=y.scaleY,g=y.entity;function m(e){e.stopPropagation();var n=r.default.ongoingClipTransform.get("startPoint"),o=e.clientX-n.x,a=e.clientY-n.y;if(d){var u=Object(r.calculateLocalCoordinates)(o,a,g.getTransform().getRotate());o=Math.max(Math.min(u.x,d.left),-(g.width*h-d.left-d.width)),a=Math.max(Math.min(u.y,d.top),-(g.height*b-d.top-d.height));var l=Object(r.calculateLocalCoordinates)(o,a,-g.getTransform().getRotate());o=l.x,a=l.y}t(Object(i.Point)(n.x-o,n.y-a)),Object(c.default)(g.getKey(),{left:p.x+o/h,top:p.y+a/b})}function v(){Object(u.default)(),s&&s(),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",v)}(f=e).nativeEvent.stopImmediatePropagation(),f.stopPropagation(),f.preventDefault(),Object(a.default)(),Object(o.startClipMove)({startPoint:Object(i.Point)(f.clientX,f.clientY),scaleX:h,scaleY:b}),p=Object(i.Point)(g.left,g.top),l&&l(),document.addEventListener("mousemove",m),document.addEventListener("mouseup",v)}}}}]);